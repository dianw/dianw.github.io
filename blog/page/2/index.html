
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Dian Aditya</title>
  <meta name="author" content="Dian Aditya">

  
  <meta name="description" content="Baru hangat-hangat nih, berbarengan dengan Release Blueoxygen Cimande versi 2.0, ada request untuk menjalankannya pada Weblogic Middleware versi 10.3 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://diian.org/blog/page/2">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Dian Aditya" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=Fjalla+One" rel="stylesheet" type="text/css">
<!--- MathJax Configuration -->
<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


<meta property="fb:app_id" content="279596272235062" />

  

</head>

<body   class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/">Dian Aditya</a></h1>
  
    <h2>Penjahit Digital.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
  
  
  
  
<ul class="subscription">
  <li><a href="https://github.com/dianw" rel="subscribe-github" title="@dianw on GitHub">GitHub</a></li>
</ul>
  
  
  
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:diian.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/11/08/deploy-cimande-pada-weblogic-10-3/">Deploy Cimande Pada Weblogic 10.3</a></h1>
    
    
      <p class="meta">
        





        
      </p>
    
  </header>


  <div class="entry-content"><p>Baru hangat-hangat nih, berbarengan dengan Release Blueoxygen Cimande versi 2.0, ada request untuk menjalankannya pada Weblogic Middleware versi 10.3. Semula saya pikir gak akan jauh beda dengan server-server enterprise lain yang pernah saya coba seperti Glassfish (saja). Dengan bermodal pede (tempe kedele) saya coba jalankan dengan menggunakan Cargo Maven Plugin dengan menambahkan konfigurasi seperti ini:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;plugin&gt;</span>
</span><span class='line'>  <span class="nt">&lt;groupid&gt;</span>org.codehaus.cargo<span class="nt">&lt;/groupid&gt;</span>
</span><span class='line'>  <span class="nt">&lt;artifactid&gt;</span>cargo-maven2-plugin<span class="nt">&lt;/artifactid&gt;</span>
</span><span class='line'>  <span class="nt">&lt;version&gt;</span>1.1.3<span class="nt">&lt;/version&gt;</span>
</span><span class='line'>  <span class="nt">&lt;configuration&gt;</span>
</span><span class='line'>    <span class="nt">&lt;container&gt;</span>
</span><span class='line'>      <span class="nt">&lt;containerid&gt;</span>weblogic103x<span class="nt">&lt;/containerid&gt;</span>
</span><span class='line'>      <span class="nt">&lt;home&gt;</span>/home/dian/Oracle/Middleware/wlserver_10.3/<span class="nt">&lt;/home&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/container&gt;</span>
</span><span class='line'>    <span class="nt">&lt;cargo.protocol&gt;</span>http<span class="nt">&lt;/cargo.protocol&gt;</span>
</span><span class='line'>    <span class="nt">&lt;cargo.hostname&gt;</span>localhost<span class="nt">&lt;/cargo.hostname&gt;</span>
</span><span class='line'>    <span class="nt">&lt;cargo.servlet.port&gt;</span>7001<span class="nt">&lt;/cargo.servlet.port&gt;</span>
</span><span class='line'>    <span class="nt">&lt;cargo.weblogic.administrator.user&gt;</span>default<span class="nt">&lt;/cargo.weblogic.administrator.user&gt;</span>
</span><span class='line'>    <span class="nt">&lt;cargo.weblogic.administrator.password&gt;</span>guecakep<span class="nt">&lt;/cargo.weblogic.administrator.password&gt;</span>
</span><span class='line'>    <span class="nt">&lt;context&gt;</span>cimande<span class="nt">&lt;/context&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/configuration&gt;</span>
</span><span class='line'><span class="nt">&lt;/plugin&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Dan benar ketika saya jalankan dengan perintah clean verify cargo:run, mantra yang tidak diharapkan muncul</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Caused By: java.lang.ClassNotFoundException: org.apache.struts2.views.JspSupportServlet
</span><span class='line'>   at weblogic.utils.classloaders.GenericClassLoader.findLocalClass(GenericClassLoader.java:297)
</span><span class='line'>   at weblogic.utils.classloaders.GenericClassLoader.findClass(GenericClassLoader.java:270)
</span><span class='line'>   at weblogic.utils.classloaders.ChangeAwareClassLoader.findClass(ChangeAwareClassLoader.java:64)
</span><span class='line'>   at java.lang.ClassLoader.loadClass(ClassLoader.java:307)
</span><span class='line'>   at java.lang.ClassLoader.loadClass(ClassLoader.java:248)
</span><span class='line'>   at weblogic.utils.classloaders.GenericClassLoader.loadClass(GenericClassLoader.java:179)
</span><span class='line'>   ...</span></code></pre></td></tr></table></div></figure>


<p>Yap, class yang diinginkan tidak ditemukan, dan ajaibnya seluruh library yang dibutuhkan (termasuk struts2-core-2.x.jar dimana terdapat class (org.apache.struts2.views.JspSupportServlet) sudah ada di folder webapp library (WEB-INF/lib) di dalam WAR yang telah dicompile. Googling punya googling ada sedikit pencerahan, dimana seluruh library yang dibutuhkan oleh webapp harus diletakkan di root EAR project. Ya benar, agak aneh, ada pemaksaan untuk menjadikan project saya menjadi enterprise archive, walaupun didalamnya tidak ada EJB-nya. Sehingga untuk struktur maven-nya pun berubah menjadi seperti ini.</p>

<p>Ada satu parent project yang memiliki 2 module yaitu berupa webapp (dengan packaging WAR) dan ear (dengan packaging EAR).</p>

<p>Karena semua library akan diletakkan pada EAR maka untuk menghindari duplikasi file jar, maka ada sedikit perubahan scope cimande-core pada webapp dari compile menjadi provided, artinya library tidak akan ikut disertakan ketika webapp di package menjadi WAR.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;dependency&gt;</span>
</span><span class='line'>  <span class="nt">&lt;groupid&gt;</span>org.blueoxygen.cimande<span class="nt">&lt;/groupid&gt;</span>
</span><span class='line'>  <span class="nt">&lt;artifactid&gt;</span>cimande-core<span class="nt">&lt;/artifactid&gt;</span>
</span><span class='line'>  <span class="nt">&lt;version&gt;</span>${cimande.sdk.version}<span class="nt">&lt;/version&gt;</span>
</span><span class='line'>  <span class="nt">&lt;scope&gt;</span>provided<span class="nt">&lt;/scope&gt;</span>
</span><span class='line'><span class="nt">&lt;/dependency&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Berikut isi dari konfigurasi pom.xml pada parent project</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
</span><span class='line'><span class="nt">&lt;project</span> <span class="na">xmlns=</span><span class="s">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
</span><span class='line'>    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;modelVersion&gt;</span>4.0.0<span class="nt">&lt;/modelVersion&gt;</span>
</span><span class='line'>    <span class="nt">&lt;groupId&gt;</span>org.blueoxygen.cimande<span class="nt">&lt;/groupId&gt;</span>
</span><span class='line'>    <span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
</span><span class='line'>    <span class="nt">&lt;artifactId&gt;</span>cimande-enterprise-parent<span class="nt">&lt;/artifactId&gt;</span>
</span><span class='line'>    <span class="nt">&lt;packaging&gt;</span>pom<span class="nt">&lt;/packaging&gt;</span>
</span><span class='line'>    <span class="nt">&lt;name&gt;</span>Cimande Enterprise Parent<span class="nt">&lt;/name&gt;</span>
</span><span class='line'>    <span class="nt">&lt;properties&gt;</span>
</span><span class='line'>        <span class="nt">&lt;cimande.sdk.version&gt;</span>2.0<span class="nt">&lt;/cimande.sdk.version&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/properties&gt;</span>
</span><span class='line'>    <span class="nt">&lt;modules&gt;</span>
</span><span class='line'>        <span class="nt">&lt;module&gt;</span>ear<span class="nt">&lt;/module&gt;</span>
</span><span class='line'>        <span class="nt">&lt;module&gt;</span>webapp<span class="nt">&lt;/module&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/modules&gt;</span>
</span><span class='line'>    <span class="nt">&lt;build&gt;</span>
</span><span class='line'>        <span class="nt">&lt;pluginManagement&gt;</span>
</span><span class='line'>            <span class="nt">&lt;plugins&gt;</span>
</span><span class='line'>                <span class="nt">&lt;plugin&gt;</span>
</span><span class='line'>                    <span class="nt">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="nt">&lt;/groupId&gt;</span>
</span><span class='line'>                    <span class="nt">&lt;artifactId&gt;</span>maven-site-plugin<span class="nt">&lt;/artifactId&gt;</span>
</span><span class='line'>                    <span class="nt">&lt;configuration&gt;</span>
</span><span class='line'>                        <span class="nt">&lt;unzipCommand&gt;</span>/usr/bin/unzip -o &gt; err.txt<span class="nt">&lt;/unzipCommand&gt;</span>
</span><span class='line'>                    <span class="nt">&lt;/configuration&gt;</span>
</span><span class='line'>                <span class="nt">&lt;/plugin&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/plugins&gt;</span>
</span><span class='line'>        <span class="nt">&lt;/pluginManagement&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/build&gt;</span>
</span><span class='line'>    <span class="nt">&lt;dependencies&gt;</span>
</span><span class='line'>        <span class="nt">&lt;dependency&gt;</span>
</span><span class='line'>            <span class="nt">&lt;groupId&gt;</span>org.blueoxygen.cimande<span class="nt">&lt;/groupId&gt;</span>
</span><span class='line'>            <span class="nt">&lt;artifactId&gt;</span>cimande-core<span class="nt">&lt;/artifactId&gt;</span>
</span><span class='line'>            <span class="nt">&lt;version&gt;</span>${cimande.sdk.version}<span class="nt">&lt;/version&gt;</span>
</span><span class='line'>        <span class="nt">&lt;/dependency&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/dependencies&gt;</span>
</span><span class='line'><span class="nt">&lt;/project&gt;</span>
</span><span class='line'>
</span></code></pre></td></tr></table></div></figure>


<p>Dan Cargo Maven Plugin untuk menjalankan Weblogic saya letakkan pada pom.xml module ear, untuk mendeploy aplikasi dalam bentuk EAR.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;project&gt;</span>
</span><span class='line'>    <span class="nt">&lt;modelVersion&gt;</span>4.0.0<span class="nt">&lt;/modelVersion&gt;</span>
</span><span class='line'>    <span class="nt">&lt;groupId&gt;</span>org.blueoxygen.cimande<span class="nt">&lt;/groupId&gt;</span>
</span><span class='line'>    <span class="nt">&lt;artifactId&gt;</span>cimande-enterprise<span class="nt">&lt;/artifactId&gt;</span>
</span><span class='line'>    <span class="nt">&lt;packaging&gt;</span>ear<span class="nt">&lt;/packaging&gt;</span>
</span><span class='line'>    <span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
</span><span class='line'>    <span class="nt">&lt;name&gt;</span>Cimande Enterprise<span class="nt">&lt;/name&gt;</span>
</span><span class='line'>    <span class="nt">&lt;parent&gt;</span>
</span><span class='line'>        <span class="nt">&lt;groupId&gt;</span>org.blueoxygen.cimande<span class="nt">&lt;/groupId&gt;</span>
</span><span class='line'>        <span class="nt">&lt;artifactId&gt;</span>cimande-enterprise-parent<span class="nt">&lt;/artifactId&gt;</span>
</span><span class='line'>        <span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/parent&gt;</span>
</span><span class='line'>    <span class="nt">&lt;dependencies&gt;</span>
</span><span class='line'>        <span class="nt">&lt;dependency&gt;</span>
</span><span class='line'>            <span class="nt">&lt;groupId&gt;</span>org.blueoxygen.cimande<span class="nt">&lt;/groupId&gt;</span>
</span><span class='line'>            <span class="nt">&lt;artifactId&gt;</span>cimande-webapp<span class="nt">&lt;/artifactId&gt;</span>
</span><span class='line'>            <span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
</span><span class='line'>            <span class="nt">&lt;type&gt;</span>war<span class="nt">&lt;/type&gt;</span>
</span><span class='line'>        <span class="nt">&lt;/dependency&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/dependencies&gt;</span>
</span><span class='line'>    <span class="nt">&lt;build&gt;</span>
</span><span class='line'>        <span class="nt">&lt;plugins&gt;</span>
</span><span class='line'>            <span class="nt">&lt;plugin&gt;</span>
</span><span class='line'>                <span class="nt">&lt;artifactId&gt;</span>maven-ear-plugin<span class="nt">&lt;/artifactId&gt;</span>
</span><span class='line'>                <span class="nt">&lt;configuration&gt;</span>
</span><span class='line'>                    <span class="nt">&lt;generateApplicationXml&gt;</span>true<span class="nt">&lt;/generateApplicationXml&gt;</span>
</span><span class='line'>                    <span class="nt">&lt;defaultLibBundleDir&gt;</span>lib/<span class="nt">&lt;/defaultLibBundleDir&gt;</span>
</span><span class='line'>                    <span class="nt">&lt;archive&gt;</span>
</span><span class='line'>                        <span class="nt">&lt;manifest&gt;</span>
</span><span class='line'>                            <span class="nt">&lt;addClasspath&gt;</span>true<span class="nt">&lt;/addClasspath&gt;</span>
</span><span class='line'>                        <span class="nt">&lt;/manifest&gt;</span>
</span><span class='line'>                    <span class="nt">&lt;/archive&gt;</span>
</span><span class='line'>                <span class="nt">&lt;/configuration&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/plugin&gt;</span>
</span><span class='line'>            <span class="nt">&lt;plugin&gt;</span>
</span><span class='line'>                <span class="nt">&lt;groupId&gt;</span>org.codehaus.cargo<span class="nt">&lt;/groupId&gt;</span>
</span><span class='line'>                <span class="nt">&lt;artifactId&gt;</span>cargo-maven2-plugin<span class="nt">&lt;/artifactId&gt;</span>
</span><span class='line'>                <span class="nt">&lt;version&gt;</span>1.1.3<span class="nt">&lt;/version&gt;</span>
</span><span class='line'>                <span class="nt">&lt;configuration&gt;</span>
</span><span class='line'>                    <span class="nt">&lt;container&gt;</span>
</span><span class='line'>                        <span class="nt">&lt;containerId&gt;</span>weblogic103x<span class="nt">&lt;/containerId&gt;</span>
</span><span class='line'>                        <span class="nt">&lt;home&gt;</span>/home/dian/Oracle/Middleware/wlserver_10.3/<span class="nt">&lt;/home&gt;</span>
</span><span class='line'>                    <span class="nt">&lt;/container&gt;</span>
</span><span class='line'>                    <span class="nt">&lt;cargo.protocol&gt;</span>http<span class="nt">&lt;/cargo.protocol&gt;</span>
</span><span class='line'>                    <span class="nt">&lt;cargo.hostname&gt;</span>localhost<span class="nt">&lt;/cargo.hostname&gt;</span>
</span><span class='line'>                    <span class="nt">&lt;cargo.servlet.port&gt;</span>7001<span class="nt">&lt;/cargo.servlet.port&gt;</span>
</span><span class='line'>                    <span class="nt">&lt;cargo.weblogic.administrator.user&gt;</span>default<span class="nt">&lt;/cargo.weblogic.administrator.user&gt;</span>
</span><span class='line'>                    <span class="nt">&lt;cargo.weblogic.administrator.password&gt;</span>tulalit13<span class="nt">&lt;/cargo.weblogic.administrator.password&gt;</span>
</span><span class='line'>                    <span class="nt">&lt;context&gt;</span>cimande<span class="nt">&lt;/context&gt;</span>
</span><span class='line'>                <span class="nt">&lt;/configuration&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/plugin&gt;</span>
</span><span class='line'>        <span class="nt">&lt;/plugins&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/build&gt;</span>
</span><span class='line'>    <span class="nt">&lt;properties&gt;</span>
</span><span class='line'>        <span class="nt">&lt;cimande.sdk.version&gt;</span>2.0<span class="nt">&lt;/cimande.sdk.version&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/properties&gt;</span>
</span><span class='line'><span class="nt">&lt;/project&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Tak lupa yang terakhir (juga hasil googling) buat file weblogic-application.xml pada direktori {ear.home}/src/main/application/META-INF/, yang merupakan file deployment descriptor spesifik Weblogic server untuk application.xml dari Sun Microsystem. Dalam file ini konfigurasi yang dibutuhkan seperti shared library dideskripsikan.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="c">&lt;!--?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?--&gt;</span>
</span><span class='line'><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
</span><span class='line'><span class="nt">&lt;weblogic-application</span>
</span><span class='line'>    <span class="na">xmlns=</span><span class="s">&quot;http://www.bea.com/ns/weblogic/weblogic-application&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;application-param&gt;</span>
</span><span class='line'>        <span class="nt">&lt;param-name&gt;</span>webapp.encoding.default<span class="nt">&lt;/param-name&gt;</span>
</span><span class='line'>        <span class="nt">&lt;param-value&gt;</span>UTF-8<span class="nt">&lt;/param-value&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/application-param&gt;</span>
</span><span class='line'>    <span class="nt">&lt;prefer-application-packages&gt;</span>
</span><span class='line'>        <span class="nt">&lt;package-name&gt;</span>antlr.*<span class="nt">&lt;/package-name&gt;</span>
</span><span class='line'>        <span class="nt">&lt;package-name&gt;</span>javax.persistence.*<span class="nt">&lt;/package-name&gt;</span>
</span><span class='line'>        <span class="nt">&lt;package-name&gt;</span>org.apache.commons.*<span class="nt">&lt;/package-name&gt;</span>
</span><span class='line'>        <span class="nt">&lt;package-name&gt;</span>org.springframework.*<span class="nt">&lt;/package-name&gt;</span>
</span><span class='line'>        <span class="nt">&lt;package-name&gt;</span>org.hibernate.*<span class="nt">&lt;/package-name&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/prefer-application-packages&gt;</span>
</span><span class='line'><span class="nt">&lt;/weblogic-application&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Dan akhirnya setelah semua mantra yang dituliskan diatas dijalankan satu per satu secara berurutan, maka tibalah saat-saat yang mendebarkan yaitu menjalankan aplikasi. Berikut langkah-langkah untuk menjalankannya.</p>

<ul>
<li>Masuk ke dalam direktori parent-project, kemudian masukkan perintah <code>mvn clean install</code> untuk menginstal ear dan webapp pada repository lokal.</li>
<li>Masuk ke dalam direktori ear kemudian jalankan perintah <code>mvn cargo:run</code></li>
<li>Muka browser, pada contoh konfigurasi diatas Cimande dapat diakses melalui <a href="http://localhost:7001/cimande-webapp">http://localhost:7001/cimande-webapp</a></li>
</ul>


<p>Dan akhirnya dengan modal pede + googling saya berhasil menjalankan BlueOxygen Cimande pada Weblogic Server.</p>

<p>NB: mengingat konfigurasi diatas cukup rumit, tim developer saat ini sedang mempersiapkan Maven archetype untuk mempermudah user mengembangkan Cimande project diatas Weblogic dengan cukup menggenerate archetype yang akan segera tersedia di maven central.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/10/07/menginstall-maven-3-pada-ubuntu/">Menginstall Maven 3 Pada Ubuntu</a></h1>
    
    
      <p class="meta">
        





        
      </p>
    
  </header>


  <div class="entry-content"><p>Sekedar mengembalikan postingan yang sempat hilang ditelan bumi :D
 Posted on August 03, 2011 by Dian Aditya
 Hari ini saya telah berhasil mengupgrade versi Maven pada ubuntu 10.04 saya dari versi 2.x ke versi 3.x. Berbeda dengan versi sebelumnya, Maven 3 tidak tersedia pada paket update Ubuntu, sehingga cara instalasinya berbeda pula dengan Maven 2.
 Ilustrasi</p>

<pre>$sudo apt-get install maven3</pre>


<p> Mungkin akan terasa nikmat jika perintah diatas berjalan dengan mulus :D
 Ok, saya rasa semuanya sudah mengerti. Berikut proses instalasi Maven 3 pada Ubuntu secara manual. Sebelumnya pastikan java telah terinstal terlebih dahulu.</p>

<ol>
 <li>Download paket Maven 3 <a href="%0Ahttp://apache.the.net.id//maven/binaries/apache-maven-3.0.3-bin.tar.gz" title="Maven 3">di sini.</a> Kemudian extract paket yang sudah didownload. <br>
Pada kasus ini paket saya extract pada <code>/opt</code></li>
 <pre>$tar -xzvf apache-maven-3.0.3-bin.tar.gz</pre>
 <li>Tambahkan PATH variable pada environtment file. </li>
 <pre>$sudo gedit /etc/environment</pre>
 <pre>
JAVA_HOME="/opt/jdk1.6.0_21"
M3_HOME="/opt/apache-maven-3.0.3"
MAVEN_HOME="/opt/apache-maven-3.0.3"
M3="/opt/apache-maven-3.0.3/bin"
</pre>
 <li>Rubah PATH, biasanya seperti ini</li>
 <pre>PATH="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games"</pre>
 Menjadi seperti berikut
 <pre>PATH="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/opt/apache-maven-3.0.3/bin"</pre>
 <li>Logout</li>
</ol>


<p> Setelah proses diata selesai, login kembali, kemudian lakukan cek versi maven.</p>

<pre>$mvn -version</pre>


<p> jika berhasil seharusnya konsol mengembalikan hasil seperti berikut</p>

<pre>
Apache Maven 3.0.3 (r1075438; 2011-03-01 00:31:09+0700)
Maven home: /opt/apache-maven-3.0.3
Java version: 1.6.0_21, vendor: Sun Microsystems Inc.
Java home: /opt/jdk1.6.0_21/jre
Default locale: en_US, platform encoding: UTF-8
OS name: "linux", version: "2.6.32-33-generic", arch: "i386", family: "unix"
</pre>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/07/14/cimande-2-0-rc2-release/">Cimande 2.0-RC2 Release</a></h1>
    
    
      <p class="meta">
        





        
      </p>
    
  </header>


  <div class="entry-content"><p>Hampir tidak terasa sudah satu tahun sejak rencana major release BlueOxygen Workspace (Cimande) versi 2.0 dicetuskan dengan mengusung konsep Representational State Transfer (ReST). Diawali dengan lahirnya versi Release Candidate 1 (RC1) akhir tahun lalu, yang juga merupakan awal dari dimulainya mobilisasi terhadap beberapa produk BlueOxygen yang secara keseluruhan berjalan diatas platform Cimande. Dengan dukungan multiple representational yang masih dan terus disempurnakan hingga saat ini diharapkan dalam major release mendatang Blueoxygen Workspace benar-benar menjadi platform yang ramah akan perangkat mobile, baik itu mobile web maupun native (Android, iPhone, Blackberry, dll).
Prototype Cimande versi tablet dengan jQuery Mobile SplitView
Berbeda dengan versi sebelumnya, banyak hal spesial yang terjadi dalam pengembangan RC2 ini yang membuat waktu release sempat mundur dari jadwal yang sudah direncanakan. Sedikit bocoran, banyak diantaranya yang belum dituliskan pada roadmap dan tiba-tiba ada pada RC2 ini. Secara teknis, berikut beberapa perubahan dan fitur terbaru yang telah ditambahkan :
Full ajax support
Dengan dukungan ajax secara penuh, semua proses request dan response telah ditangani pada background sehingga membuat aplikasi berjalan lebih cepat. Modul-modul yang berjalan diatas Cimande Platform juga secara otomatis akan terintegrasi dengan fitur ajax ini sehingga aplikasi yang sudah berjalan sebelumnya tidak perlu ditulis ulang untuk menyesuaikan dengan versi Cimande ini. Penggunaan http method diluar POST dan GET dalam tag
<form>
 seperti PUT, HEAD, DELETE juga dimunggkinkan dengan ketentuan browser mendukung XMLHttpRequest.
</form>
Layout dan tema baru
Setelah hampir satu dekade setia dengan tema lama, dalam rangkaian major release ini Cimande v2 telah berganti kulit dengan tema berlatar biru tua, warna khas BlueOxygen, serta dengan logo Blueoxygen terbaru.
Maven Build Tool &amp; Archetype
Yang paling menarik dari versi 2 ini adalah perubahan build tool yang selama ini menggunakan Ant menjadi Maven dengan plugin dan dependency managementnya yang sangat powerfull. Hal ini sedikit banyak juga telah membuang kesan Cimande yang kurang akur dengan IDE selain Eclipse. Sehingga developer yang akan mengembangkan aplikasi dia atas Platform Cimande dapat memilih menggunakan IDE sesuai dengan selera yang dikehendaki. Saat ini Cimande telah di-host di java.net, dengan Nexus yang telah termirror dengan Maven Central membuat para pengembang cukup menggenerate archetype untuk membuat sebuah workspace yang siap pakai. Langkah untuk melakukan generate archetype berada pada artikel berikut.
Hingga saat ini tim pengembang masih terus melakukan optimasi untuk relesase berikutnya.
Hal yang tak pernah lupa untuk disebutkan, BlueOxygen Cimande merupakan produk OpenSource dibawah Lisensi Apache. Seluruh source code berada pada cimande.java.net.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/06/13/spring-classpath-resource-beda-middleware-beda-konfigurasi-tomcat-vs-glassfish/">Spring Classpath Resource, Beda Middleware Beda Konfigurasi (Tomcat vs Glassfish)</a></h1>
    
    
      <p class="meta">
        





        
      </p>
    
  </header>


  <div class="entry-content"><p>Dua hari pusing mikirin session factory dari hibernate.cfg.xml yang gak kebaca di konfigurasi spring. Yap, baru-baru ini saya lagi sibuk jalanin cimande v2 di glassfish (yang alhamdulillah baru jalan lancar setelah dua hari). Ya memang kedengarannya payah, tapi mungkin bisa jadi ada juga yang memiliki nasib mirip seperti saya. Berawal dari kisah buruk itulah dengan hati tulus ikhlas saya berusaha agar teman-teman yang lain tidak mengalami kejadian yang mirip seperti yang saya alami tersebut.
Jadi begini awal mula ceritanya, dari mulai kenal cimande sampai saya gede seperti ini belum pernah sekalipun saya coba jalanin ini aplikasi di container selain tomcat (sekarang sudah :D). Kemudian suatu hari muncullah titah dari Pak Bos untuk menjalankan cimande yang terdiri dari komposisi Struts2 + Spring + Hibernate di app server yang bernama Glassfish. 1, 2, 3, beberapa saat lancar-lancar aja (sampai muncul halaman login :P) dan akhirnya hal itupun terjadi. Masalah sederhana, gak mau login. Usut punya usut ternyata database tidak mengembalikan nilai yang diminta oleh client, usut punya usut lagi ternyata hibernate session factory yang diinject oleh spring bernilai kosong alias hibernate.cfg seakan tidak pernah dilahirkan. Anehnya di tomcat lancar-lancar saja, ya saya sadar kalo masalah beginian pasti saya yang salah.
Berikut konfigurasi saya sebelumnya</p>

<pre style="color:#000000;background:#fbfbfb;padding:5px;border:#cecece 1px solid;overflow:auto;"><span style=" color:#7f0055; background-color:#fbfbfb;">&lt;bean</span><span style=" color:#000000; background-color:#fbfbfb;"> id=</span><span style=" color:#2a00ff; background-color:#fbfbfb;">"sessionFactory"</span><span style=" color:#000000; background-color:#fbfbfb;">
    class=</span><span style=" color:#2a00ff; background-color:#fbfbfb;">"org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean"</span><span style=" color:#000000; background-color:#fbfbfb;">
    p:dataSource-ref=</span><span style=" color:#2a00ff; background-color:#fbfbfb;">"dataSource"</span><span style=" color:#000000; background-color:#fbfbfb;">
    p:hibernateProperties=</span><span style=" color:#2a00ff; background-color:#fbfbfb;">"</span><span style=" color:#2a00ff; background-color:#fbfbfb;"><strong><u>classpath:hibernate.properties</u></strong></span><span style=" color:#2a00ff; background-color:#fbfbfb;">"</span><span style=" color:#7f0055; background-color:#fbfbfb;">&gt;</span><span style=" color:#000000; background-color:#fbfbfb;">
    </span><span style=" color:#7f0055; background-color:#fbfbfb;">&lt;property</span><span style=" color:#000000; background-color:#fbfbfb;"> name=</span><span style=" color:#2a00ff; background-color:#fbfbfb;">"eventListeners"</span><span style=" color:#7f0055; background-color:#fbfbfb;">&gt;</span><span style=" color:#000000; background-color:#fbfbfb;">
        </span><span style=" color:#7f0055; background-color:#fbfbfb;">&lt;map&gt;</span><span style=" color:#000000; background-color:#fbfbfb;">
            </span><span style=" color:#7f0055; background-color:#fbfbfb;">&lt;entry</span><span style=" color:#000000; background-color:#fbfbfb;"> key=</span><span style=" color:#2a00ff; background-color:#fbfbfb;">"merge"</span><span style=" color:#7f0055; background-color:#fbfbfb;">&gt;</span><span style=" color:#000000; background-color:#fbfbfb;">
                </span><span style=" color:#7f0055; background-color:#fbfbfb;">&lt;bean</span><span style=" color:#000000; background-color:#fbfbfb;">
                    class=</span><span style=" color:#2a00ff; background-color:#fbfbfb;">"org.springframework.orm.hibernate3.support.IdTransferringMergeEventListener"</span><span style=" color:#000000; background-color:#fbfbfb;"> </span><span style=" color:#7f0055; background-color:#fbfbfb;">/&gt;</span><span style=" color:#000000; background-color:#fbfbfb;">
            </span><span style=" color:#7f0055; background-color:#fbfbfb;">&lt;/entry&gt;</span><span style=" color:#000000; background-color:#fbfbfb;">
        </span><span style=" color:#7f0055; background-color:#fbfbfb;">&lt;/map&gt;</span><span style=" color:#000000; background-color:#fbfbfb;">
    </span><span style=" color:#7f0055; background-color:#fbfbfb;">&lt;/property&gt;</span><span style=" color:#000000; background-color:#fbfbfb;">
    </span><span style=" color:#7f0055; background-color:#fbfbfb;">&lt;property</span><span style=" color:#000000; background-color:#fbfbfb;"> name=</span><span style=" color:#2a00ff; background-color:#fbfbfb;">"configLocations"</span><span style=" color:#7f0055; background-color:#fbfbfb;">&gt;</span><span style=" color:#000000; background-color:#fbfbfb;">
        </span><span style=" color:#7f0055; background-color:#fbfbfb;">&lt;list&gt;</span><span style=" color:#000000; background-color:#fbfbfb;">
            </span><span style=" color:#7f0055; background-color:#fbfbfb;">&lt;value&gt;</span><span style=" color:#000000; background-color:#fbfbfb;"><strong><u>classpath:hibernate*.xml</u></strong></span><span style=" color:#7f0055; background-color:#fbfbfb;">&lt;/value&gt;</span><span style=" color:#000000; background-color:#fbfbfb;">
        </span><span style=" color:#7f0055; background-color:#fbfbfb;">&lt;/list&gt;</span><span style=" color:#000000; background-color:#fbfbfb;">
    </span><span style=" color:#7f0055; background-color:#fbfbfb;">&lt;/property&gt;</span><span style=" color:#000000; background-color:#fbfbfb;">
</span><span style=" color:#7f0055; background-color:#fbfbfb;">&lt;/bean&gt;</span><span style=" color:#000000; background-color:#fbfbfb;">
</span></pre>


<p>Yes, setelah bertapa beberapa hari akhirnya ketemulah biang errornya (coba tebak yang mana :P)
Dan berikut ini konfigurasi setelah saya rubah.</p>

<pre style="color:#000000;background:#fbfbfb;padding:5px;border:#cecece 1px solid;overflow:auto;"><span style=" color:#7f0055; background-color:#fbfbfb;">&lt;bean</span><span style=" color:#000000; background-color:#fbfbfb;"> id=</span><span style=" color:#2a00ff; background-color:#fbfbfb;">"sessionFactory"</span><span style=" color:#000000; background-color:#fbfbfb;">
    class=</span><span style=" color:#2a00ff; background-color:#fbfbfb;">"org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean"</span><span style=" color:#000000; background-color:#fbfbfb;">
    p:dataSource-ref=</span><span style=" color:#2a00ff; background-color:#fbfbfb;">"dataSource"</span><span style=" color:#000000; background-color:#fbfbfb;">
    p:hibernateProperties=</span><span style=" color:#2a00ff; background-color:#fbfbfb;">"/WEB-INF/classes/</span><span style=" color:#2a00ff; background-color:#fbfbfb;"><strong><u>hibernate.properties</u></strong></span><span style=" color:#2a00ff; background-color:#fbfbfb;">"</span><span style=" color:#7f0055; background-color:#fbfbfb;">&gt;</span><span style=" color:#000000; background-color:#fbfbfb;">
    </span><span style=" color:#7f0055; background-color:#fbfbfb;">&lt;property</span><span style=" color:#000000; background-color:#fbfbfb;"> name=</span><span style=" color:#2a00ff; background-color:#fbfbfb;">"eventListeners"</span><span style=" color:#7f0055; background-color:#fbfbfb;">&gt;</span><span style=" color:#000000; background-color:#fbfbfb;">
        </span><span style=" color:#7f0055; background-color:#fbfbfb;">&lt;map&gt;</span><span style=" color:#000000; background-color:#fbfbfb;">
            </span><span style=" color:#7f0055; background-color:#fbfbfb;">&lt;entry</span><span style=" color:#000000; background-color:#fbfbfb;"> key=</span><span style=" color:#2a00ff; background-color:#fbfbfb;">"merge"</span><span style=" color:#7f0055; background-color:#fbfbfb;">&gt;</span><span style=" color:#000000; background-color:#fbfbfb;">
                </span><span style=" color:#7f0055; background-color:#fbfbfb;">&lt;bean</span><span style=" color:#000000; background-color:#fbfbfb;">
                    class=</span><span style=" color:#2a00ff; background-color:#fbfbfb;">"org.springframework.orm.hibernate3.support.IdTransferringMergeEventListener"</span><span style=" color:#000000; background-color:#fbfbfb;"> </span><span style=" color:#7f0055; background-color:#fbfbfb;">/&gt;</span><span style=" color:#000000; background-color:#fbfbfb;">
            </span><span style=" color:#7f0055; background-color:#fbfbfb;">&lt;/entry&gt;</span><span style=" color:#000000; background-color:#fbfbfb;">
        </span><span style=" color:#7f0055; background-color:#fbfbfb;">&lt;/map&gt;</span><span style=" color:#000000; background-color:#fbfbfb;">
    </span><span style=" color:#7f0055; background-color:#fbfbfb;">&lt;/property&gt;</span><span style=" color:#000000; background-color:#fbfbfb;">
    </span><span style=" color:#7f0055; background-color:#fbfbfb;">&lt;property</span><span style=" color:#000000; background-color:#fbfbfb;"> name=</span><span style=" color:#2a00ff; background-color:#fbfbfb;">"configLocations"</span><span style=" color:#7f0055; background-color:#fbfbfb;">&gt;</span><span style=" color:#000000; background-color:#fbfbfb;">
        </span><span style=" color:#7f0055; background-color:#fbfbfb;">&lt;list&gt;</span><span style=" color:#000000; background-color:#fbfbfb;">
            </span><span style=" color:#7f0055; background-color:#fbfbfb;">&lt;value&gt;</span><span style=" color:#000000; background-color:#fbfbfb;"><strong><u>/WEB-INF/classes/hibernate*.xml</u></strong></span><span style=" color:#7f0055; background-color:#fbfbfb;">&lt;/value&gt;</span><span style=" color:#000000; background-color:#fbfbfb;">
        </span><span style=" color:#7f0055; background-color:#fbfbfb;">&lt;/list&gt;</span><span style=" color:#000000; background-color:#fbfbfb;">
    </span><span style=" color:#7f0055; background-color:#fbfbfb;">&lt;/property&gt;</span><span style=" color:#000000; background-color:#fbfbfb;">
</span><span style=" color:#7f0055; background-color:#fbfbfb;">&lt;/bean&gt;</span><span style=" color:#000000; background-color:#fbfbfb;">
</span></pre>


<p>Setelah ditelusuri ternyata ketika dijalankan pada glassfish spring tidak mengenali classpathnya di sebelah mana, sehingga harus merujuk langsung ke tempat dimana semua file dicompile yaitu pada /WEB-INF/classes, dan walhasil cimande saya berhasil jalan di glassfish. Nah pertanyaan selanjutnya bagaimana jika saya menaruh file konfigurasinya di dalam jar file? Bagi yang bisa bantu ditunggu komennya di bawah tulisan ini. Semoga bermanfaat&hellip;</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/04/24/data-access-object-dao-dan-service-facade-pattern-apa-dan-mengapa/">Data Access Object (DAO) Dan Service/Facade Pattern, Apa Dan Mengapa</a></h1>
    
    
      <p class="meta">
        





        
      </p>
    
  </header>


  <div class="entry-content"><p>Sering saya mendapat pertanyaan dari teman maupun adik kelas tentang &ldquo;Gimana caranya bikin DAO?&rdquo;, &ldquo;Kenapa harus pake DAO?&rdquo;, ataupun pertanyaan paling general &ldquo;DAO itu apaan sih?&rdquo;. Maklum, saya memang yang paling ngeyel mengkritik masalah bentuk dan kerapian baris kode aplikasi bikinan rekan-rekan seperjuangan yang berhubungan dengan database/persistence, bahkan tidak jarang mengesampingkan bussines proccess apikasi itu sendiri. Yah memang terlalu teknis sih, tapi di dunia open source kerapian kode itu nomor wahid (mungkin :D), ditonton dunia gitu, berbeda dengan barang close source yang orang cuma tau itu barang tiba-tiba ada, walaupun kerapian kode itu tetap penting. Mungkin tulisan adalah sedikit bentuk curhat saya kepada banyak pihak yang menganggap saya sebagai orang yang paling meyebalkan urusan coding selama ini (sok teraniaya banget :P). Memang saya sering jawab &ldquo;cari di internet&rdquo; atau &ldquo;kan ada google&rdquo; sebelum saya sadar bahwa mau gak mau, gak mau mau, mau mau enggak, ataupun mau mau mau, sebagian siswa Indonesia malas mebaca tulisan yang sedikit ribet, sedikit panjang, ditambah lagi pake bahasa Belanda. Komplit dah, dan akhirnya memutuskan untuk bertanya pada orang sok tau seperti saya :D Berikut sedikit jawaban dari saya, semoga bermanfaat&hellip;
Data Access Object
Data Access Object (DAO) merupakan sebuah object yang menyediakan sebuah abstract interface terhadap beberapa database atau mekanisme persistence, menyediakan beberapa operasi tertentu tanpa mengekspos detail database. Penerapan konsep ini sering disebut dengan separation of concern dimana setiap kode dipisahkan berdasarkan fungsinya sehingga kode diatasnya hanya perlu mengetahui secara abstrak cara mengakses data tanpa perlu mengetahui bagaimana akses ke sumber data diimplementasikan. DAO sering dikaitkan dengan Java EE dan akses ke relational database melalu JDBC API, karena memang DAO berasal dari pedoman praktek Sun Microsystem. Kebanyakan peggunaan DAO adalah satu objek DAO untuk satu objek entity.
Berikut contoh sederhana penggunaan DAO dengan penerapan aksess ke sumber data menggunakan JPA. Dimisalkan saya mempunyai dua buah class entity yaitu barang dan kategori barang.
KategoriBarang.java</p>

<pre style="color:#000000;background:#fbfbfb;padding:5px;border:#cecece 1px solid;overflow:auto;"><span style=" color:#7f0055; background-color:#fbfbfb;"><strong>public</strong></span><span style=" color:#000000; background-color:#fbfbfb;"> </span><span style=" color:#7f0055; background-color:#fbfbfb;"><strong>class</strong></span><span style=" color:#000000; background-color:#fbfbfb;"> KategoriBarang {
    </span><span style=" color:#7f0055; background-color:#fbfbfb;"><strong>private</strong></span><span style=" color:#000000; background-color:#fbfbfb;"> </span><span style=" color:#7f0055; background-color:#fbfbfb;"><strong>String</strong></span><span style=" color:#000000; background-color:#fbfbfb;"> kode;
    </span><span style=" color:#7f0055; background-color:#fbfbfb;"><strong>private</strong></span><span style=" color:#000000; background-color:#fbfbfb;"> </span><span style=" color:#7f0055; background-color:#fbfbfb;"><strong>String</strong></span><span style=" color:#000000; background-color:#fbfbfb;"> nama;
    </span><span style=" color:#7f0055; background-color:#fbfbfb;"><strong>private</strong></span><span style=" color:#000000; background-color:#fbfbfb;"> </span><span style=" color:#7f0055; background-color:#fbfbfb;"><strong>String</strong></span><span style=" color:#000000; background-color:#fbfbfb;"> deskripsi;
    </span><span style=" color:#7f0055; background-color:#fbfbfb;"><strong>private</strong></span><span style=" color:#000000; background-color:#fbfbfb;"> </span><span style=" color:#7f0055; background-color:#fbfbfb;"><strong>List</strong></span><span style=" color:#000000; background-color:#fbfbfb;">&lt;Barang&gt; daftarBarang;
    </span><span style=" color:#3f5fbf; background-color:#fbfbfb;">/**</span><span style=" color:#000000; background-color:#fbfbfb;">
</span><span style=" color:#3f5fbf; background-color:#fbfbfb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=" color:#7f9fbf; background-color:#fbfbfb;"><strong>*</strong></span><span style=" color:#3f5fbf; background-color:#fbfbfb;"> getter dan setter</span><span style=" color:#000000; background-color:#fbfbfb;">
</span><span style=" color:#3f5fbf; background-color:#fbfbfb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span style=" color:#000000; background-color:#fbfbfb;">
}
</span></pre>


<p>Barang.java</p>

<pre style="color:#000000;background:#fbfbfb;padding:5px;border:#cecece 1px solid;overflow:auto;"><span style=" color:#7f0055; background-color:#fbfbfb;"><strong>public</strong></span><span style=" color:#000000; background-color:#fbfbfb;"> </span><span style=" color:#7f0055; background-color:#fbfbfb;"><strong>class</strong></span><span style=" color:#000000; background-color:#fbfbfb;"> Barang {
  
    </span><span style=" color:#7f0055; background-color:#fbfbfb;"><strong>private</strong></span><span style=" color:#000000; background-color:#fbfbfb;"> </span><span style=" color:#7f0055; background-color:#fbfbfb;"><strong>String</strong></span><span style=" color:#000000; background-color:#fbfbfb;"> kode;
    </span><span style=" color:#7f0055; background-color:#fbfbfb;"><strong>private</strong></span><span style=" color:#000000; background-color:#fbfbfb;"> </span><span style=" color:#7f0055; background-color:#fbfbfb;"><strong>String</strong></span><span style=" color:#000000; background-color:#fbfbfb;"> nama;
    </span><span style=" color:#7f0055; background-color:#fbfbfb;"><strong>private</strong></span><span style=" color:#000000; background-color:#fbfbfb;"> </span><span style=" color:#7f0055; background-color:#fbfbfb;"><strong>long</strong></span><span style=" color:#000000; background-color:#fbfbfb;"> harga;
    </span><span style=" color:#7f0055; background-color:#fbfbfb;"><strong>private</strong></span><span style=" color:#000000; background-color:#fbfbfb;"> KategoriBarang kategori;
    </span><span style=" color:#3f5fbf; background-color:#fbfbfb;">/**</span><span style=" color:#000000; background-color:#fbfbfb;">
</span><span style=" color:#3f5fbf; background-color:#fbfbfb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=" color:#7f9fbf; background-color:#fbfbfb;"><strong>*</strong></span><span style=" color:#3f5fbf; background-color:#fbfbfb;"> getter dan setter</span><span style=" color:#000000; background-color:#fbfbfb;">
</span><span style=" color:#3f5fbf; background-color:#fbfbfb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span style=" color:#000000; background-color:#fbfbfb;">
}
</span></pre>


<p>Berikut contoh penggunaa DAO untuk kedua entity tersebut</p>

<pre style="color:#000000;background:#fbfbfb;padding:5px;border:#cecece 1px solid;overflow:auto;"><span style=" color:#7f0055;"><strong>public</strong></span><span style=" color:#000000;"> </span><span style=" color:#7f0055;"><strong>class</strong></span><span style=" color:#000000;"> BarangDAO {
    </span><span style=" color:#7f0055;"><strong>private</strong></span><span style=" color:#000000;"> EntityManager entityManager;
    </span><span style=" color:#7f0055;"><strong>public</strong></span><span style=" color:#000000;"> </span><span style=" color:#7f0055;"><strong>void</strong></span><span style=" color:#000000;"> setEntityManager(EntityManager entityManager) {
        </span><span style=" color:#7f0055;"><strong>this</strong></span><span style=" color:#000000;">.entityManager = entityManager;
    }
    </span><span style=" color:#7f0055;"><strong>private</strong></span><span style=" color:#000000;"> </span><span style=" color:#7f0055;"><strong>final</strong></span><span style=" color:#000000;"> </span><span style=" color:#7f0055;"><strong>String</strong></span><span style=" color:#000000;"> getAllQuery = </span><span style=" color:#2a00ff;">"SELECT b FROM Barang b"</span><span style=" color:#000000;">;
    </span><span style=" color:#7f0055;"><strong>private</strong></span><span style=" color:#000000;"> </span><span style=" color:#7f0055;"><strong>final</strong></span><span style=" color:#000000;"> </span><span style=" color:#7f0055;"><strong>String</strong></span><span style=" color:#000000;"> getByIdQuery = </span><span style=" color:#2a00ff;">"FROM Barang b WHERE b.kode = :kode"</span><span style=" color:#000000;">;
    </span><span style=" color:#7f0055;"><strong>public</strong></span><span style=" color:#000000;"> </span><span style=" color:#7f0055;"><strong>List</strong></span><span style=" color:#000000;">&lt;Barang&gt; getAll() {
        </span><span style=" color:#7f0055;"><strong>return</strong></span><span style=" color:#000000;"> entityManager.createQuery(getAllQuery).getResultList();
    }
    </span><span style=" color:#7f0055;"><strong>public</strong></span><span style=" color:#000000;"> Barang getById(</span><span style=" color:#7f0055;"><strong>String</strong></span><span style=" color:#000000;"> kode) {
        </span><span style=" color:#7f0055;"><strong>return</strong></span><span style=" color:#000000;"> (Barang) entityManager.createQuery(getByIdQuery)
                .setParameter(</span><span style=" color:#2a00ff;">"kode"</span><span style=" color:#000000;">, kode).getSingleResult();
    }
    </span><span style=" color:#7f0055;"><strong>public</strong></span><span style=" color:#000000;"> </span><span style=" color:#7f0055;"><strong>void</strong></span><span style=" color:#000000;"> save(Barang barang) {
        entityManager.persist(barang);
    }
    </span><span style=" color:#7f0055;"><strong>public</strong></span><span style=" color:#000000;"> </span><span style=" color:#7f0055;"><strong>void</strong></span><span style=" color:#000000;"> delete(Barang barang) {
        entityManager.remove(barang);
    }
    </span><span style=" color:#7f0055;"><strong>public</strong></span><span style=" color:#000000;"> KategoriBarang getKategori(</span><span style=" color:#7f0055;"><strong>String</strong></span><span style=" color:#000000;"> kodeBarang) {
        </span><span style=" color:#7f0055;"><strong>return</strong></span><span style=" color:#000000;"> getById(kodeBarang).getKategori();
    }
}
</span></pre>


<pre style="color:#000000;background:#fbfbfb;padding:5px;border:#cecece 1px solid;overflow:auto;"><span style=" color:#7f0055;"><strong>public</strong></span><span style=" color:#000000;"> </span><span style=" color:#7f0055;"><strong>class</strong></span><span style=" color:#000000;"> KategoriBarangDAO {
    </span><span style=" color:#7f0055;"><strong>private</strong></span><span style=" color:#000000;"> EntityManager entityManager;
    </span><span style=" color:#7f0055;"><strong>public</strong></span><span style=" color:#000000;"> </span><span style=" color:#7f0055;"><strong>void</strong></span><span style=" color:#000000;"> setEntityManager(EntityManager entityManager) {
        </span><span style=" color:#7f0055;"><strong>this</strong></span><span style=" color:#000000;">.entityManager = entityManager;
    }
    </span><span style=" color:#7f0055;"><strong>private</strong></span><span style=" color:#000000;"> </span><span style=" color:#7f0055;"><strong>final</strong></span><span style=" color:#000000;"> </span><span style=" color:#7f0055;"><strong>String</strong></span><span style=" color:#000000;"> getAllQuery = </span><span style=" color:#2a00ff;">"SELECT b FROM KategoriBarang b"</span><span style=" color:#000000;">;
    </span><span style=" color:#7f0055;"><strong>private</strong></span><span style=" color:#000000;"> </span><span style=" color:#7f0055;"><strong>final</strong></span><span style=" color:#000000;"> </span><span style=" color:#7f0055;"><strong>String</strong></span><span style=" color:#000000;"> getByIdQuery = </span><span style=" color:#2a00ff;">"FROM KategoriBarang b WHERE b.kode = :kode"</span><span style=" color:#000000;">;
    </span><span style=" color:#7f0055;"><strong>public</strong></span><span style=" color:#000000;"> </span><span style=" color:#7f0055;"><strong>List</strong></span><span style=" color:#000000;">&lt;KategoriBarang&gt; getAll() {
        </span><span style=" color:#7f0055;"><strong>return</strong></span><span style=" color:#000000;"> entityManager.createQuery(getAllQuery).getResultList();
    }
    </span><span style=" color:#7f0055;"><strong>public</strong></span><span style=" color:#000000;"> KategoriBarang getById(</span><span style=" color:#7f0055;"><strong>String</strong></span><span style=" color:#000000;"> kode) {
        </span><span style=" color:#7f0055;"><strong>return</strong></span><span style=" color:#000000;"> (KategoriBarang) entityManager.createQuery(getByIdQuery)
                .setParameter(</span><span style=" color:#2a00ff;">"kode"</span><span style=" color:#000000;">, kode).getSingleResult();
    }
    </span><span style=" color:#7f0055;"><strong>public</strong></span><span style=" color:#000000;"> </span><span style=" color:#7f0055;"><strong>void</strong></span><span style=" color:#000000;"> save(KategoriBarang kategori) {
        entityManager.persist(kategori);
    }
    </span><span style=" color:#7f0055;"><strong>public</strong></span><span style=" color:#000000;"> </span><span style=" color:#7f0055;"><strong>void</strong></span><span style=" color:#000000;"> delete(KategoriBarang kategori) {
        entityManager.remove(kategori);
    }
    </span><span style=" color:#7f0055;"><strong>public</strong></span><span style=" color:#000000;"> </span><span style=" color:#7f0055;"><strong>List</strong></span><span style=" color:#000000;">&lt;Barang&gt; getKategori(</span><span style=" color:#7f0055;"><strong>String</strong></span><span style=" color:#000000;"> kodeKategoriBarang) {
        </span><span style=" color:#7f0055;"><strong>return</strong></span><span style=" color:#000000;"> getById(kodeKategoriBarang).getDaftarBarang();
    }
}
</span></pre>


<p>Panjang bukan? Hehehehe, tenang saja di java semuanya bisa diakalin, kita tahu bahwa beberapa method seperti getAll, getById, save, dan delete merupakan method yang umum dan sering diguakan dalam persistence, dengan kata lain method-method tersebut dapat diabstraksi. Berikut diagramnya
Java juga menyediakan generic type sejak versi 5, sehingga dalam pembuatan DAO kita dapat menciptakan sebuah mantra yang dinamakan generic DAO, fungsi utama dari generic type ini adalah untuk menghandle beberapa fungsi yang mengembalikan nilai secara dinamis, sebagai contoh diatas adalah method getById. Berikut contoh kodenya.</p>

<pre style="color:#000000;background:#fbfbfb;padding:5px;border:#cecece 1px solid;overflow:auto;"><span style=" color:#7f0055;"><strong>public</strong></span><span style=" color:#000000;"> </span><span style=" color:#7f0055;"><strong>abstract</strong></span><span style=" color:#000000;"> </span><span style=" color:#7f0055;"><strong>class</strong></span><span style=" color:#000000;"> GenericDAO&lt;T&gt; {
    </span><span style=" color:#7f0055;"><strong>protected</strong></span><span style=" color:#000000;"> EntityManager entityManager;
    </span><span style=" color:#7f0055;"><strong>public</strong></span><span style=" color:#000000;"> </span><span style=" color:#7f0055;"><strong>void</strong></span><span style=" color:#000000;"> setEntityManager(EntityManager entityManager) {
        </span><span style=" color:#7f0055;"><strong>this</strong></span><span style=" color:#000000;">.entityManager = entityManager;
    }
    </span><span style=" color:#7f0055;"><strong>protected</strong></span><span style=" color:#000000;"> </span><span style=" color:#7f0055;"><strong>abstract</strong></span><span style=" color:#000000;"> </span><span style=" color:#7f0055;"><strong>Class</strong></span><span style=" color:#000000;">&lt;T&gt; getEntityClass();
    </span><span style=" color:#7f0055;"><strong>public</strong></span><span style=" color:#000000;"> </span><span style=" color:#7f0055;"><strong>List</strong></span><span style=" color:#000000;">&lt;T&gt; getAll() {
        </span><span style=" color:#7f0055;"><strong>String</strong></span><span style=" color:#000000;"> query = </span><span style=" color:#2a00ff;">"FROM "</span><span style=" color:#000000;"> + getEntityClass().getName();
        </span><span style=" color:#7f0055;"><strong>return</strong></span><span style=" color:#000000;"> entityManager.createQuery(query).getResultList();
    }
    </span><span style=" color:#7f0055;"><strong>public</strong></span><span style=" color:#000000;"> T getById(</span><span style=" color:#7f0055;"><strong>String</strong></span><span style=" color:#000000;"> id) {
        </span><span style=" color:#7f0055;"><strong>String</strong></span><span style=" color:#000000;"> query = </span><span style=" color:#2a00ff;">"FROM "</span><span style=" color:#000000;"> + getEntityClass().getName()
                + </span><span style=" color:#2a00ff;">" WHERE kode = :kode"</span><span style=" color:#000000;">;
        </span><span style=" color:#7f0055;"><strong>return</strong></span><span style=" color:#000000;"> (T) entityManager.createQuery(query).setParameter(</span><span style=" color:#2a00ff;">"kode"</span><span style=" color:#000000;">, id)
                .getSingleResult();
    }
    </span><span style=" color:#7f0055;"><strong>public</strong></span><span style=" color:#000000;"> </span><span style=" color:#7f0055;"><strong>void</strong></span><span style=" color:#000000;"> save(T entity) {
        entityManager.persist(entity);
    }
    </span><span style=" color:#7f0055;"><strong>public</strong></span><span style=" color:#000000;"> </span><span style=" color:#7f0055;"><strong>void</strong></span><span style=" color:#000000;"> delete(T entity) {
        entityManager.remove(entity);
    }
}
</span></pre>


<p>Salah satu keuntungan menggunakan generic DAO adalah menghindari duplikasi data. Sehingga kita hanya perlu membuat turunan dari generic DAO tersebut dan menambahkan beberapa method spesifik bila diperlukan.</p>

<pre style="color:#000000;background:#fbfbfb;padding:5px;border:#cecece 1px solid;overflow:auto;"><span style=" color:#7f0055;"><strong>public</strong></span><span style=" color:#000000;"> </span><span style=" color:#7f0055;"><strong>class</strong></span><span style=" color:#000000;"> BarangDAO </span><span style=" color:#7f0055;"><strong>extends</strong></span><span style=" color:#000000;"> GenericDAO&lt;Barang&gt; {
    @Override
    </span><span style=" color:#7f0055;"><strong>protected</strong></span><span style=" color:#000000;"> </span><span style=" color:#7f0055;"><strong>Class</strong></span><span style=" color:#000000;">&lt;Barang&gt; getEntityClass() {
        </span><span style=" color:#7f0055;"><strong>return</strong></span><span style=" color:#000000;"> Barang.class;
    }
    </span><span style=" color:#7f0055;"><strong>public</strong></span><span style=" color:#000000;"> KategoriBarang getKategori(</span><span style=" color:#7f0055;"><strong>String</strong></span><span style=" color:#000000;"> kodeBarang) {
        </span><span style=" color:#7f0055;"><strong>return</strong></span><span style=" color:#000000;"> getById(kodeBarang).getKategori();
    }
}
</span></pre>


<p>Service / Facade
Facade merupakan sebuah objek yang berfungsi untuk menyederhanakan kumpulan kode besar seperti library. Dalam kasus database kita dapat menggunakan facade untuk mengelompokkan beberapa DAO dalam sebuah transaksi. Business logic juga dapat diletakkan pada bagian ini.
Berikut contoh penggunaan facade</p>

<pre style="color:#000000;background:#fbfbfb;padding:5px;border:#cecece 1px solid;overflow:auto;"><span style=" color:#7f0055;"><strong>public</strong></span><span style=" color:#000000;"> </span><span style=" color:#7f0055;"><strong>interface</strong></span><span style=" color:#000000;"> BarangService {
  
    </span><span style=" color:#7f0055;"><strong>void</strong></span><span style=" color:#000000;"> saveBarang(Barang barang);
  
    </span><span style=" color:#7f0055;"><strong>void</strong></span><span style=" color:#000000;"> setKategoriBarang(</span><span style=" color:#7f0055;"><strong>String</strong></span><span style=" color:#000000;"> kodeBarang, </span><span style=" color:#7f0055;"><strong>String</strong></span><span style=" color:#000000;"> kodeKategori);
  
}
</span></pre>


<pre style="color:#000000;background:#fbfbfb;padding:5px;border:#cecece 1px solid;overflow:auto;"><span style=" color:#7f0055;"><strong>public</strong></span><span style=" color:#000000;"> </span><span style=" color:#7f0055;"><strong>class</strong></span><span style=" color:#000000;"> BarangServiceImpl </span><span style=" color:#7f0055;"><strong>implements</strong></span><span style=" color:#000000;"> BarangService {
  
    </span><span style=" color:#7f0055;"><strong>private</strong></span><span style=" color:#000000;"> BarangDAO barangDAO;
    </span><span style=" color:#7f0055;"><strong>private</strong></span><span style=" color:#000000;"> KategoriBarangDAO kategoriBarangDAO;
    </span><span style=" color:#7f0055;"><strong>public</strong></span><span style=" color:#000000;"> </span><span style=" color:#7f0055;"><strong>void</strong></span><span style=" color:#000000;"> setBarangDAO(BarangDAO barangDAO) {
        </span><span style=" color:#7f0055;"><strong>this</strong></span><span style=" color:#000000;">.barangDAO = barangDAO;
    }
    </span><span style=" color:#7f0055;"><strong>public</strong></span><span style=" color:#000000;"> </span><span style=" color:#7f0055;"><strong>void</strong></span><span style=" color:#000000;"> setKategoriBarangDAO(KategoriBarangDAO kategoriBarangDAO) {
        </span><span style=" color:#7f0055;"><strong>this</strong></span><span style=" color:#000000;">.kategoriBarangDAO = kategoriBarangDAO;
    }
    </span><span style=" color:#7f0055;"><strong>public</strong></span><span style=" color:#000000;"> </span><span style=" color:#7f0055;"><strong>void</strong></span><span style=" color:#000000;"> saveBarang(Barang barang) {
        barangDAO.save(barang);
    }
    </span><span style=" color:#7f0055;"><strong>public</strong></span><span style=" color:#000000;"> </span><span style=" color:#7f0055;"><strong>void</strong></span><span style=" color:#000000;"> setKategoriBarang(</span><span style=" color:#7f0055;"><strong>String</strong></span><span style=" color:#000000;"> kodeBarang, </span><span style=" color:#7f0055;"><strong>String</strong></span><span style=" color:#000000;"> kodeKategori) {
        KategoriBarang kategoriBarang = kategoriBarangDAO.getById(kodeKategori);
        Barang barang = barangDAO.getById(kodeBarang);
        barang.setKategori(kategoriBarang);
        barangDAO.save(barang);
    }
}
</span></pre>


<p>Penggabungan antara DAO dan Service pattern secara disiplin dapat menghasilkan kode yang bukan hanya mudah dibaca maupun ditesting, bahkan dapat dimodifikasi tanpa merubah modul yang menggunakan DAO maupun service, sebagai contoh ketika saya ingin mengganti akses ke database menggunakan JDBC, hanya perlu modifikasi pada bagian DAO tanpa merubah sama sekali bagian business logic pada service. Selain itu juga meningkatkan efisiensi dan kinerja dari lapisan data karena merupakan standart software yang dapat digunakan kembali (reusable).</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/10/18/cimande-2-0-rc-apa-bedanya-restful-1/">Cimande 2.0 RC, Apa Bedanya? (RESTFul #1)</a></h1>
    
    
      <p class="meta">
        





        
      </p>
    
  </header>


  <div class="entry-content"><p>Setelah berjuang sekitar beberapa bulan terakhir, akhirnya hari ini Cimande v2.0 RC resmi dirilis. Sesuai dengan judul blog saya kali ini, Cimande 2? Apa bedanya dengan yang sudah-sudah? Pada versi terbaru ini Cimande 2.0 menggunakan arsitektur RESTFul web service. Salah satu arsitektur web yang beberapa tahun terakhir ini lagi hot-hotnya, dianggap sebagai arsitektur yang cool, sederhana dan paling ramah bagi user/aplikasi desktop maupun mobile secara umum. Juga sejalan dengan dengan trend baru Web 2.0 yang mulai menjauh dari SOAP dan beralih ke konsep REST.
Sedikit melenceng dari judul, pada bagian pertama ini saya belum akan membahas lebih detail mengenai teknis Cimande2, akan tetapi lebih ke konsep dan prinsip dari REST yang merupakan salah satu arsitektur yang digunakan oleh Cimande2 ini.
Berikut sedikit sejarah singkat tentang arsitektur REST :</p>

<blockquote>
 Representational State Transfer (REST) merupakan arsitektur software untuk distribusi hypermedia diantaranya World Wide Web. Istilah Representational State Transfer pertama kali diperkenalkan dan didefinisikan pada tahun 2000 oleh Roy T Fielding pada disertasi doktoralnya. Fielding merupakan salah satu dari penggagas spesifikasi HTTP 1.0 dan 1.1.
</blockquote>


<p>Saya akan menjelaskan secara singkat mengenai beberapa prinsip dasar dari arsitektur REST, diantaranya:</p>

<ul>
 <li>
  <div align="justify">
  
 Menggunakan
   <em>HTTP dan HTTP Method secara tepat.</em>
  </div>
 </li>
 <li>
  <div align="justify">
  
 Semua tentang
   <em> Resource </em>dan
   <em> URI</em>
  </div>
 </li>
 <li>
  <div align="justify">
  
   <em>Stateless</em>
  </div>
 </li>
 <li>
  <div align="justify">
  
 Mendukung
   <em>multiple representation</em>.
  </div>
 </li>
</ul>


<h2>#</h2>

<p>&nbsp;
Menggunakan HTTP dan HTTP Method secara tepat
Salah satu karakteristik dari RESTFul Web Service adalah menggunakan HTTP, protokol yang digunakan lebih dari 60% browser di seluruh muka bumi ini untuk mengakses server. Ini merupakan salah satu alasan mengapa trend Web 2.0 lebih cenderung menjauhi SOAP, salah satu kutipan yang pernah saya dengar ?Mengapa menggunakan protokol seperti SOAP bila setiap hari sebagian besar penduduk bumi menggunakan HTTP.?
Selanjutnya adalah penggunaan standard HTTP method diantaranya</p>

<ul>
 <li>
  <div align="justify">
  
 POST untuk membuat sumberdaya (resource) pada server.
  </div>
 </li>
 <li>
  <div align="justify">
  
 GET untuk menerima sumberdaya.
  </div>
 </li>
 <li>
  <div align="justify">
  
 PUT untuk merubah atau memperbaharui sumberdaya; dan
  </div>
 </li>
 <li>
  <div align="justify">
  
 DELETE untuk menghapus sumberdaya.
  </div>
 </li>
</ul>


<p>Menggunakan HTTP method secara tepat?
Berikut dua contoh penggunaan method yang berbeda dengan menghasilhan efek samping yang sama.</p>

<blockquote>
 GET /hapususer?nama=dian HTTP/1.1
</blockquote>


<p>Ini sangat tidak dianjurkan karena method GET merupakan safe method yang seharusnya dalam penggunaannya tidak menghasilkan efek samping terhadap server. Dan berikut ini adalah contoh penggunaan HTTP method secara tepat.</p>

<blockquote>
 DELETE /user/dian HTTP/1.1
</blockquote>


<p>Sebagai pedoman umum, diharapkan mengikuti pedoman REST untuk menggunakan HTTP method secara eksplisit dengan menggunakan kata benda dalam URI, bukan kata kerja.</p>

<h2>#</h2>

<p>&nbsp;
Semua tentang Resource dan URI
Sumberdaya dapat berupa sebuah informasi maupun deskripsi dari sebuah item. Sebagai contoh blog entry ataupun blog author.
Setiap uri langsung merujuk kepada sumberdaya, tepat sasaran dan mudah ditebak. Bungung? Berikut beberapa contoh uri untuk mengakses blog entry saya:
<a href="http://blogs.mervpolis.com/roller/dwx/entry/hibernate_event_listener">http://blogs.mervpolis.com/roller/dwx/entry/hibernate_event_listener</a>
<a href="http://blogs.mervpolis.com/roller/dwx/date/20101006">http://blogs.mervpolis.com/roller/dwx/date/20101006</a>
<a href="http://blogs.mervpolis.com/roller/dwx/category/Java">http://blogs.mervpolis.com/roller/dwx/category/Java</a>
Contoh URI diatas merupakan contoh penggunaan directory structure-like URIs. Beberapa pedoman tambahan dalam penggunaan struktur URI pada RESTFul Web Service adalah sebagai berikut:</p>

<ul>
 <li>
  <div align="justify">
  
 Sembunyikan ekstensi file pada
   <em>server-side scripting </em>(.asp, .php, .jsp), jika ada.
  </div>
 </li>
 <li>
  <div align="justify">
  
 Menjaga agar tetap menggunakan
   <em>lowercase</em>.
  </div>
 </li>
 <li>
  <div align="justify">
  
 Mengganti spasi dengan tanda hubung atau garis bawah.
  </div>
 </li>
 <li>
  <div align="justify">
  
 Mencegah query string sebisa mungkin.
  </div>
 </li>
</ul>


<p>&nbsp;
Cukup sekian untuk saat ini, poin ke 3 dan ke 4 selanjutnya akan saya jabarkan pada RESTFul bagian ke 2.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/10/06/jsp-taglib-at-velocity-nah-lho/">JSP Taglib at Velocity, Nah Lho&#8230;</a></h1>
    
    
      <p class="meta">
        





        
      </p>
    
  </header>


  <div class="entry-content"><p>Nah ini kasus baru ketika saya menggunakan velocity sebagai presentation layer, yap salah satu keunggulan dari velocity adalah kecepatannya karena velocity tidak membutuhkan proses tranformasi dan kompilasi layaknya JSP. Namun sedikit mengingatkan tentang pepatah lama, tak ada gading yang tak retak. Dan berdasarkan info yang pernah saya dengar salah satu keunggulan JSP dibanding velocity adalah taglibnya, dilema deh? Karena sayangnya menggunakan taglib memang lebih menyenangkan :D sempat terpikirkan untuk memindahkan semua presentation layer ke JSP sebelum akhirnya saya main ke Website Struts2. Hahai sebuah pencerahan datang?
 Velocity tags are extensions of the generic Struts Tags provided by the framework. You can get jump right in just by knowing the structure in which the tags can be accessed: #s<em>tag </em>(&hellip;) &hellip; #end, where tag is any of the Struts Tags supported by the framework.
 Yayaya Velocity tags, dan berikut perbandingannya dengan JSP tags</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;s:form</span> <span class="na">action=</span><span class="s">&quot;updatePerson&quot;</span><span class="nt">&gt;</span>
</span><span class='line'> <span class="nt">&lt;s:textfield</span> <span class="na">label=</span><span class="s">&quot;First name&quot;</span> <span class="na">name=</span><span class="s">&quot;firstName&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'> <span class="nt">&lt;s:submit</span> <span class="na">value=</span><span class="s">&quot;Update&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;/s:form&gt;</span>
</span><span class='line'>
</span></code></pre></td></tr></table></div></figure>


<p> dan dalam velocity dapat dituliskan seperti berikut</p>

<pre>#sform ("action=updatePerson")
    #stextfield ("label=First name" "name=firstName")
    #ssubmit ("value=Update")
#end
</pre>


<p> Dan akhirnya migrasi ke JSP pun untuk sementara dibatalkan :p</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/09/29/memanfaatkan-struts-action-mapper-untuk-membuat-clean-url/">Memanfaatkan Struts Action Mapper Untuk Membuat Clean URL</a></h1>
    
    
      <p class="meta">
        





        
      </p>
    
  </header>


  <div class="entry-content"><p>Ini merupakan salah satu favorit saya yang ada di Struts yaitu ActionMapper. Biar lebih jelas berikut saya kutip sedikit dari dokumentasi Struts2.
 ActionMapper interface menyediakan pemetaan antara HTTP Request dan Action Invocation Request atau sebaliknya.
 Lebih sederhananya dengan mengimplementasikan ActionMapper ini kita dapat menentukan action class yang akan dieksekusi berdasarkan HttpServletRequest yang kita terima.
 Sebagai contoh saya ingin mengubah gaya url seperti berikut ini
 &nbsp;</p>

<pre>http://domain/project/employe?id=1234</pre>


<p> &nbsp;
 menjadi
 &nbsp;</p>

<pre>http://domain/project/employe/1234</pre>


<p> &nbsp;
 sehingga saya menentukan bahwa baris setelah nama project merupakan nama action (/employee) dan baris setelah nama action adalah id (/1234).
 Berikut kodenya</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'> <span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">mervpolis</span><span class="o">.</span><span class="na">dwx</span><span class="o">.</span><span class="na">struts</span><span class="o">.</span><span class="na">mapper</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.util.HashMap</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletRequest</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">org.apache.struts2.dispatcher.mapper.ActionMapping</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">org.apache.struts2.dispatcher.mapper.DefaultActionMapper</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.opensymphony.xwork2.config.ConfigurationManager</span><span class="o">;</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyCustomMapper</span> <span class="kd">extends</span> <span class="n">DefaultActionMapper</span> <span class="o">{</span>
</span><span class='line'> <span class="kd">public</span> <span class="n">ActionMapping</span> <span class="nf">getMapping</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span>
</span><span class='line'> <span class="n">ConfigurationManager</span> <span class="n">configManager</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'> <span class="n">ActionMapping</span> <span class="n">mapping</span> <span class="o">=</span> <span class="kd">super</span><span class="o">.</span><span class="na">getMapping</span><span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="n">configManager</span><span class="o">);</span>
</span><span class='line'> <span class="cm">/**</span>
</span><span class='line'><span class="cm"> * Ketika bukan action yang dipanggil</span>
</span><span class='line'><span class="cm"> * ex: http://domain/project/gambar.jpg</span>
</span><span class='line'><span class="cm"> */</span>
</span><span class='line'> <span class="k">if</span> <span class="o">(</span><span class="n">mapping</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span>
</span><span class='line'> <span class="k">return</span> <span class="n">mapping</span><span class="o">;</span>
</span><span class='line'> <span class="k">if</span> <span class="o">(</span><span class="n">mapping</span><span class="o">.</span><span class="na">getParams</span><span class="o">()</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span>
</span><span class='line'> <span class="n">mapping</span><span class="o">.</span><span class="na">setParams</span><span class="o">(</span><span class="k">new</span> <span class="n">HashMap</span>
</span><span class='line'> <span class="o">());</span>
</span><span class='line'> <span class="c1">// Menambil url path</span>
</span><span class='line'> <span class="n">String</span> <span class="n">path</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getServletPath</span><span class="o">().</span><span class="na">substring</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
</span><span class='line'> <span class="c1">// Memotong-motong path diantara karakter &#39;/&#39;</span>
</span><span class='line'> <span class="n">String</span> <span class="n">actions</span><span class="o">[]</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="na">split</span><span class="o">(</span><span class="s">&quot;/&quot;</span><span class="o">);</span>
</span><span class='line'> <span class="c1">// Array terakhir sebagai id</span>
</span><span class='line'> <span class="n">String</span> <span class="n">id</span> <span class="o">=</span> <span class="n">actions</span><span class="o">[</span><span class="n">actions</span><span class="o">.</span><span class="na">length</span> <span class="o">-</span> <span class="mi">1</span><span class="o">];</span>
</span><span class='line'> <span class="c1">// Array sebelum id sebagai actionName</span>
</span><span class='line'> <span class="n">String</span> <span class="n">actionName</span> <span class="o">=</span> <span class="n">actions</span><span class="o">[</span><span class="n">actions</span><span class="o">.</span><span class="na">length</span> <span class="o">-</span> <span class="mi">2</span><span class="o">];</span>
</span><span class='line'> <span class="n">mapping</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="n">actionName</span><span class="o">);</span>
</span><span class='line'> <span class="n">mapping</span><span class="o">.</span><span class="na">getParams</span><span class="o">().</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;id&quot;</span><span class="o">,</span> <span class="n">id</span><span class="o">);</span>
</span><span class='line'> <span class="k">return</span> <span class="n">mapping</span><span class="o">;</span>
</span><span class='line'> <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span></code></pre></td></tr></table></div></figure>


<p> Selanjutnya tinggal mendaftarkan ActionMapper dengan menambahkan properti pada struts.properties</p>

<pre>struts.mapper.class=com.mervpolis.dwx.struts.mapper.MyCustomMapper</pre>


<p> atau dalam struts.xml</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;constant</span> <span class="na">name=</span><span class="s">&quot;struts.mapper.class&quot;</span> <span class="na">value=</span><span class="s">&quot;com.mervpolis.dwx.struts.mapper.MyCustomMapper&quot;</span> <span class="nt">/&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p> Kemudian action class cukup membuat method setId(String id) untuk mendapatkan id dari url, tidak hanya action class, dengan memanipulasi ActionMapper ini kita dapat pula menentukan method yang akan dieksekusi ketika action class dipanggil.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/09/19/hibernate-event-listener/">Hibernate Event Listener</a></h1>
    
    
      <p class="meta">
        





        
      </p>
    
  </header>


  <div class="entry-content"><p>Barusan saya baca-baca tentang database trigger dan sempat coba-coba, malas juga ternyata nulis kodenya yang begitu banyak :p benar-benar programmer yang buruk, hehehehe&hellip; Dan seperti apa yang saya inginkan, tuink&hellip; sangat tepat, ternyata hibernate juga menyediakan fasilitas yang mirip seperti trigger pada database, yaitu Hibernate Event. Sebuah mekanisme yang akan otomatis dijalankan apabila pemicu dipanggil. Untuk penjelasan lebih lanjut tentang event dan trigger bisa lihat di sini dan di sini (lagi-lagi males nulis :p).
 Langsung saja ke kasusnya&hellip;
 Saya mempunyai dua buah entity yaitu Produk dan CatatanAktivitasProduk. Dan saya akan membuat sebuah mekanisme agar hibernate secara otomatis manambahkan baris data pada CatatanAktivitasProduk ketika user melakukan transaksi (CRUD) data terhadap table Produk. Baris data berupa tanggal transaksi, aktivitas (lihat, tambah, perbarui, ataupun hapus), dan id produk yang terpengaruh akibat transaksi yang dilakukan oleh user tersebut.
 Pertama berikut entity yang saya butuhkan.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'> <span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">mervpolis</span><span class="o">.</span><span class="na">dwx</span><span class="o">.</span><span class="na">hibernate</span><span class="o">.</span><span class="na">entity</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.persistence.Column</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.persistence.Entity</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.persistence.GeneratedValue</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.persistence.GenerationType</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.persistence.Id</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.persistence.Table</span><span class="o">;</span>
</span><span class='line'><span class="nd">@Entity</span>
</span><span class='line'><span class="nd">@Table</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Produk</span> <span class="o">{</span>
</span><span class='line'> <span class="nd">@Id</span>
</span><span class='line'> <span class="nd">@GeneratedValue</span><span class="o">(</span><span class="n">strategy</span> <span class="o">=</span> <span class="n">GenerationType</span><span class="o">.</span><span class="na">IDENTITY</span><span class="o">)</span>
</span><span class='line'> <span class="kd">private</span> <span class="kt">long</span> <span class="n">id</span><span class="o">;</span>
</span><span class='line'> <span class="nd">@Column</span>
</span><span class='line'> <span class="kd">private</span> <span class="n">String</span> <span class="n">nama</span><span class="o">;</span>
</span><span class='line'> <span class="nd">@Column</span>
</span><span class='line'> <span class="kd">private</span> <span class="kt">long</span> <span class="n">harga</span><span class="o">;</span>
</span><span class='line'> <span class="nd">@Column</span>
</span><span class='line'> <span class="kd">private</span> <span class="n">String</span> <span class="n">deskripsi</span><span class="o">;</span>
</span><span class='line'> <span class="kd">public</span> <span class="kt">long</span> <span class="nf">getId</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'> <span class="k">return</span> <span class="n">id</span><span class="o">;</span>
</span><span class='line'> <span class="o">}</span>
</span><span class='line'> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setId</span><span class="o">(</span><span class="kt">long</span> <span class="n">id</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'> <span class="k">this</span><span class="o">.</span><span class="na">id</span> <span class="o">=</span> <span class="n">id</span><span class="o">;</span>
</span><span class='line'> <span class="o">}</span>
</span><span class='line'> <span class="kd">public</span> <span class="n">String</span> <span class="nf">getNama</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'> <span class="k">return</span> <span class="n">nama</span><span class="o">;</span>
</span><span class='line'> <span class="o">}</span>
</span><span class='line'> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setNama</span><span class="o">(</span><span class="n">String</span> <span class="n">nama</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'> <span class="k">this</span><span class="o">.</span><span class="na">nama</span> <span class="o">=</span> <span class="n">nama</span><span class="o">;</span>
</span><span class='line'> <span class="o">}</span>
</span><span class='line'> <span class="kd">public</span> <span class="kt">long</span> <span class="nf">getHarga</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'> <span class="k">return</span> <span class="n">harga</span><span class="o">;</span>
</span><span class='line'> <span class="o">}</span>
</span><span class='line'> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setHarga</span><span class="o">(</span><span class="kt">long</span> <span class="n">harga</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'> <span class="k">this</span><span class="o">.</span><span class="na">harga</span> <span class="o">=</span> <span class="n">harga</span><span class="o">;</span>
</span><span class='line'> <span class="o">}</span>
</span><span class='line'> <span class="kd">public</span> <span class="n">String</span> <span class="nf">getDeskripsi</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'> <span class="k">return</span> <span class="n">deskripsi</span><span class="o">;</span>
</span><span class='line'> <span class="o">}</span>
</span><span class='line'> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setDeskripsi</span><span class="o">(</span><span class="n">String</span> <span class="n">deskripsi</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'> <span class="k">this</span><span class="o">.</span><span class="na">deskripsi</span> <span class="o">=</span> <span class="n">deskripsi</span><span class="o">;</span>
</span><span class='line'> <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'> <span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">mervpolis</span><span class="o">.</span><span class="na">dwx</span><span class="o">.</span><span class="na">hibernate</span><span class="o">.</span><span class="na">entity</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.sql.Timestamp</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.persistence.Column</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.persistence.Entity</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.persistence.GeneratedValue</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.persistence.GenerationType</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.persistence.Id</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.persistence.JoinColumn</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.persistence.ManyToOne</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.persistence.Table</span><span class="o">;</span>
</span><span class='line'><span class="nd">@Entity</span>
</span><span class='line'><span class="nd">@Table</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">CatatanAktivitasProduk</span> <span class="o">{</span>
</span><span class='line'> <span class="nd">@Id</span>
</span><span class='line'> <span class="nd">@GeneratedValue</span><span class="o">(</span><span class="n">strategy</span><span class="o">=</span><span class="n">GenerationType</span><span class="o">.</span><span class="na">IDENTITY</span><span class="o">)</span>
</span><span class='line'> <span class="kd">private</span> <span class="kt">long</span> <span class="n">id</span><span class="o">;</span>
</span><span class='line'> <span class="nd">@ManyToOne</span>
</span><span class='line'> <span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;produk_id&quot;</span><span class="o">)</span>
</span><span class='line'> <span class="kd">private</span> <span class="n">Produk</span> <span class="n">produk</span><span class="o">;</span>
</span><span class='line'> <span class="nd">@Column</span>
</span><span class='line'> <span class="kd">private</span> <span class="n">String</span> <span class="n">aktivitas</span><span class="o">;</span>
</span><span class='line'> <span class="nd">@Column</span>
</span><span class='line'> <span class="kd">private</span> <span class="n">Timestamp</span> <span class="n">tanggal</span><span class="o">;</span>
</span><span class='line'> <span class="kd">public</span> <span class="kt">long</span> <span class="nf">getId</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'> <span class="k">return</span> <span class="n">id</span><span class="o">;</span>
</span><span class='line'> <span class="o">}</span>
</span><span class='line'> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setId</span><span class="o">(</span><span class="kt">long</span> <span class="n">id</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'> <span class="k">this</span><span class="o">.</span><span class="na">id</span> <span class="o">=</span> <span class="n">id</span><span class="o">;</span>
</span><span class='line'> <span class="o">}</span>
</span><span class='line'> <span class="kd">public</span> <span class="n">Produk</span> <span class="nf">getProduk</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'> <span class="k">return</span> <span class="n">produk</span><span class="o">;</span>
</span><span class='line'> <span class="o">}</span>
</span><span class='line'> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setProduk</span><span class="o">(</span><span class="n">Produk</span> <span class="n">produk</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'> <span class="k">this</span><span class="o">.</span><span class="na">produk</span> <span class="o">=</span> <span class="n">produk</span><span class="o">;</span>
</span><span class='line'> <span class="o">}</span>
</span><span class='line'> <span class="kd">public</span> <span class="n">String</span> <span class="nf">getAktivitas</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'> <span class="k">return</span> <span class="n">aktivitas</span><span class="o">;</span>
</span><span class='line'> <span class="o">}</span>
</span><span class='line'> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setAktivitas</span><span class="o">(</span><span class="n">String</span> <span class="n">aktivitas</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'> <span class="k">this</span><span class="o">.</span><span class="na">aktivitas</span> <span class="o">=</span> <span class="n">aktivitas</span><span class="o">;</span>
</span><span class='line'> <span class="o">}</span>
</span><span class='line'> <span class="kd">public</span> <span class="n">Timestamp</span> <span class="nf">getTanggal</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'> <span class="k">return</span> <span class="n">tanggal</span><span class="o">;</span>
</span><span class='line'> <span class="o">}</span>
</span><span class='line'> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setTanggal</span><span class="o">(</span><span class="n">Timestamp</span> <span class="n">tanggal</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'> <span class="k">this</span><span class="o">.</span><span class="na">tanggal</span> <span class="o">=</span> <span class="n">tanggal</span><span class="o">;</span>
</span><span class='line'> <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span></code></pre></td></tr></table></div></figure>


<p> Dan selanjutnya adalah membuat listenernya yang akan otomatis melakukan aksi ketika user melakukan CRUD terhadap table Produk. Untuk contoh saya akan membuat listener yang akan menjalankan event setelah user melakukan insert data terhadap table Produk.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'> <span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">mervpolis</span><span class="o">.</span><span class="na">dwx</span><span class="o">.</span><span class="na">hibernate</span><span class="o">.</span><span class="na">event</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.sql.Timestamp</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">org.hibernate.Session</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">org.hibernate.event.PostInsertEvent</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">org.hibernate.event.PostInsertEventListener</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.mervpolis.dwx.hibernate.entity.CatatanAktivitasProduk</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.mervpolis.dwx.hibernate.entity.Produk</span><span class="o">;</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ProdukEventListener</span> <span class="kd">implements</span> <span class="n">PostInsertEventListener</span> <span class="o">{</span>
</span><span class='line'> <span class="nd">@Override</span>
</span><span class='line'> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onPostInsert</span><span class="o">(</span><span class="n">PostInsertEvent</span> <span class="n">event</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'> <span class="k">if</span> <span class="o">(</span><span class="n">event</span><span class="o">.</span><span class="na">getEntity</span><span class="o">()</span> <span class="k">instanceof</span> <span class="n">Produk</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'> <span class="n">CatatanAktivitasProduk</span> <span class="n">aktivitasProduk</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CatatanAktivitasProduk</span><span class="o">();</span>
</span><span class='line'> <span class="n">Session</span> <span class="n">session</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="na">getSession</span><span class="o">();</span>
</span><span class='line'> <span class="n">aktivitasProduk</span><span class="o">.</span><span class="na">setAktivitas</span><span class="o">(</span><span class="s">&quot;tambah&quot;</span><span class="o">);</span>
</span><span class='line'> <span class="n">aktivitasProduk</span><span class="o">.</span><span class="na">setProduk</span><span class="o">((</span><span class="n">Produk</span><span class="o">)</span> <span class="n">event</span><span class="o">.</span><span class="na">getEntity</span><span class="o">());</span>
</span><span class='line'> <span class="n">aktivitasProduk</span>
</span><span class='line'> <span class="o">.</span><span class="na">setTanggal</span><span class="o">(</span><span class="k">new</span> <span class="n">Timestamp</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">()));</span>
</span><span class='line'> <span class="n">session</span><span class="o">.</span><span class="na">saveOrUpdate</span><span class="o">(</span><span class="n">aktivitasProduk</span><span class="o">);</span>
</span><span class='line'> <span class="o">}</span>
</span><span class='line'> <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span></code></pre></td></tr></table></div></figure>


<p> Selanjutnya adalah mendaftarkan listener pada konfigurasi hibernate (hibernate.cfg.xml).</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="c">&lt;!--?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?--&gt;</span>
</span><span class='line'><span class="nt">&lt;hibernate-configuration&gt;</span>
</span><span class='line'> <span class="nt">&lt;session-factory&gt;</span>
</span><span class='line'>
</span><span class='line'>  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;hibernate.connection.driver_class&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>   com.mysql.jdbc.Driver
</span><span class='line'>  <span class="nt">&lt;/property&gt;</span>
</span><span class='line'>  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;hibernate.connection.password&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>   admin
</span><span class='line'>  <span class="nt">&lt;/property&gt;</span>
</span><span class='line'>  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;hibernate.connection.url&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>   jdbc:mysql://localhost:3306/test
</span><span class='line'>  <span class="nt">&lt;/property&gt;</span>
</span><span class='line'>  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;hibernate.connection.username&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>   root
</span><span class='line'>  <span class="nt">&lt;/property&gt;</span>
</span><span class='line'>  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;hibernate.dialect&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>   org.hibernate.dialect.MySQLDialect
</span><span class='line'>  <span class="nt">&lt;/property&gt;</span>
</span><span class='line'>  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;hibernate.hbm2ddl.auto&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>   update
</span><span class='line'>  <span class="nt">&lt;/property&gt;</span>
</span><span class='line'>  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;hibernate.show_sql&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>   true
</span><span class='line'>  <span class="nt">&lt;/property&gt;</span>
</span><span class='line'>  <span class="nt">&lt;mapping</span> <span class="na">class=</span><span class="s">&quot;com.mervpolis.dwx.hibernate.entity.Produk&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>  <span class="nt">&lt;mapping</span> <span class="na">class=</span><span class="s">&quot;com.mervpolis.dwx.hibernate.entity.CatatanAktivitasProduk&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>  <span class="nt">&lt;listener</span> <span class="na">class=</span><span class="s">&quot;com.mervpolis.dwx.hibernate.event.ProdukEventListener&quot;</span> <span class="na">type=</span><span class="s">&quot;post-insert&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'> <span class="nt">&lt;/session-factory&gt;</span>
</span><span class='line'><span class="nt">&lt;/hibernate-configuration&gt;</span>
</span><span class='line'>
</span></code></pre></td></tr></table></div></figure>


<p> Selanjutnya saya akan mencoba menjalankan sebuah kode yang akan melakukan insert data terhadap table produk.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'> <span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">mervpolis</span><span class="o">.</span><span class="na">dwx</span><span class="o">.</span><span class="na">hibernate</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">org.hibernate.Session</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">org.hibernate.SessionFactory</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">org.hibernate.cfg.AnnotationConfiguration</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.mervpolis.dwx.hibernate.entity.Produk</span><span class="o">;</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">InsertData</span> <span class="o">{</span>
</span><span class='line'> <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'> <span class="n">SessionFactory</span> <span class="n">factory</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AnnotationConfiguration</span><span class="o">().</span><span class="na">configure</span><span class="o">()</span>
</span><span class='line'> <span class="o">.</span><span class="na">buildSessionFactory</span><span class="o">();</span>
</span><span class='line'> <span class="n">Session</span> <span class="n">session</span> <span class="o">=</span> <span class="n">factory</span><span class="o">.</span><span class="na">openSession</span><span class="o">();</span>
</span><span class='line'> <span class="n">Produk</span> <span class="n">produk</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Produk</span><span class="o">();</span>
</span><span class='line'> <span class="n">session</span><span class="o">.</span><span class="na">getTransaction</span><span class="o">().</span><span class="na">begin</span><span class="o">();</span>
</span><span class='line'> <span class="n">produk</span><span class="o">.</span><span class="na">setNama</span><span class="o">(</span><span class="s">&quot;Sendal Jepit&quot;</span><span class="o">);</span>
</span><span class='line'> <span class="n">produk</span><span class="o">.</span><span class="na">setHarga</span><span class="o">(</span><span class="mi">2000</span><span class="o">);</span>
</span><span class='line'> <span class="n">produk</span><span class="o">.</span><span class="na">setDeskripsi</span><span class="o">(</span><span class="s">&quot;Sendal yang dijepit&quot;</span><span class="o">);</span>
</span><span class='line'> <span class="n">session</span><span class="o">.</span><span class="na">saveOrUpdate</span><span class="o">(</span><span class="n">produk</span><span class="o">);</span>
</span><span class='line'> <span class="n">session</span><span class="o">.</span><span class="na">getTransaction</span><span class="o">().</span><span class="na">commit</span><span class="o">();</span>
</span><span class='line'> <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span></code></pre></td></tr></table></div></figure>


<p> Dan apa yang terjadi ketika kode diatas saya jalankan? Secara otomatis hibernate akan menjalankan perintah yang saya taruh pada listener. Nahlho mana buktinya? Ada baiknya bila anda buktikan sendiri dengan mencoba membuat mekanisme seperti di atas :) selamat mencoba.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/09/08/menggunakan-spring-annotation-struts2-spring-2/">Menggunakan Spring Annotation (Struts2-Spring #2)</a></h1>
    
    
      <p class="meta">
        





        
      </p>
    
  </header>


  <div class="entry-content"><p>Ini lanjutan dari blog saya yang kemarin tentang Integrasi Struts2 dengan Spring Framework, dan yang ingin saya sharing kali ini gak akan jauh berbeda dari topik kemarin, yaitu tentang salah satu fitur dari Spring Framework yang sudah ada sejak versi 2.5 yaitu annotation. Dalam hal ini saya akan mencontohkan bagaimana melakukan autowiring terhadap DataSource (gak jauh dari yang kemarin, cuma ganti jadi anotasi doank).
Kali ini saya membuat kasus (lohloh bikin kasus) dimana saya memiliki sebuah Data Access Object (DAO) untuk melakukan transaksi database, dan DAO ini membutuhkan DataSource untuk dapat melakukan tugasnya yang akan digunakan oleh Controller untuk menyampaikannya kepada Viewer Layer. Hehehehe?. Saya juga bingung gimana menggambarkannya.
Langsung berangkat ke TKP.
Berikut sedikit modifikasi dari applicationContext-jdbc.xml</p>

<pre style="border-right: #cecece 1px solid; padding-right: 5px; border-top: #cecece 1px solid; padding-left: 5px; min-height: 40px; padding-bottom: 5px; overflow: auto; border-left: #cecece 1px solid; width: 550px; padding-top: 5px; border-bottom: #cecece 1px solid; background-color: #fbfbfb"><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  1: <span style="color: #0000ff">&lt;?</span>xml version="1.0" encoding="UTF-8"<span style="color: #0000ff">?&gt;</span>
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  2: <span style="color: #0000ff">&lt;</span><span style="color: #800000">beans</span> <span style="color: #ff0000">xmlns</span>=<span style="color: #0000ff">"http://www.springframework.org/schema/beans"</span>
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  3:     <span style="color: #ff0000">xmlns</span>:<span style="color: #ff0000">xsi</span>=<span style="color: #0000ff">"http://www.w3.org/2001/XMLSchema-instance"</span> <span style="color: #ff0000">xmlns</span>:<span style="color: #ff0000">context</span>=<span style="color: #0000ff">"http://www.springframework.org/schema/context"</span>
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  4:     <span style="color: #ff0000">xmlns</span>:<span style="color: #ff0000">p</span>=<span style="color: #0000ff">"http://www.springframework.org/schema/p"</span>
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  5:     <span style="color: #ff0000">xsi</span>:<span style="color: #ff0000">schemaLocation</span>=<span style="color: #0000ff">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
</span></pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  6:      http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd"<span style="color: #0000ff">&gt;</span>
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  7:
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #ebebeb">  8:     <span style="color: #0000ff">&lt;</span><span style="color: #c71585">context</span>:<span style="color: #800000">component</span>-<span style="color: #ff0000">scan</span> <span style="color: #ff0000">base</span>-<span style="color: #ff0000">package</span>=<span style="color: #0000ff">"com.mervpolis.dwx"</span> <span style="color: #0000ff">/&gt;</span>
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  9:
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 10:     <span style="color: #0000ff">&lt;</span><span style="color: #800000">bean</span> <span style="color: #ff0000">id</span>=<span style="color: #0000ff">"dataSource"</span>
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 11:         <span style="color: #ff0000">class</span>=<span style="color: #0000ff">"org.springframework.jdbc.datasource.DriverManagerDataSource"</span>
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 12:         <span style="color: #ff0000">p</span>:<span style="color: #ff0000">driverClassName</span>=<span style="color: #0000ff">"com.mysql.jdbc.Driver"</span> <span style="color: #ff0000">p</span>:<span style="color: #ff0000">username</span>=<span style="color: #0000ff">"root"</span>
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 13:         <span style="color: #ff0000">p</span>:<span style="color: #ff0000">password</span>=<span style="color: #0000ff">"admin"</span> <span style="color: #ff0000">p</span>:<span style="color: #ff0000">url</span>=<span style="color: #0000ff">"jdbc:mysql://localhost:3306/test"</span> <span style="color: #0000ff">/&gt;</span>
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 14:
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 15: <span style="color: #0000ff">&lt;/</span><span style="color: #800000">beans</span><span style="color: #0000ff">&gt;</span></pre></pre>


<p>Nah ada satu baris mantra yang ditambahkan di situ yang berfungsi untuk melakukan scan terhadap semua class yang mengandung anotasi seperti @Autowired @Service @Component dll.
ItemDao.java</p>

<pre style="border-right: #cecece 1px solid; padding-right: 5px; border-top: #cecece 1px solid; padding-left: 5px; min-height: 40px; padding-bottom: 5px; overflow: auto; border-left: #cecece 1px solid; width: 550px; padding-top: 5px; border-bottom: #cecece 1px solid; background-color: #fbfbfb"><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  1: <span style="color: #0000ff">package</span> com.mervpolis.dwx.struts2spring.dao;
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  2:
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  3: <span style="color: #0000ff">import</span> java.sql.ResultSet;
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  4:
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  5: <span style="color: #0000ff">public</span> <span style="color: #0000ff">interface</span> ItemDao {
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  6:     <span style="color: #0000ff">void</span> saveItem(String name, String price);
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  7:
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  8:     ResultSet getAllItems();
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  9: }</pre></pre>


<p>Berikut implementasinya</p>

<pre style="border-right: #cecece 1px solid; padding-right: 5px; border-top: #cecece 1px solid; padding-left: 5px; min-height: 40px; padding-bottom: 5px; overflow: auto; border-left: #cecece 1px solid; width: 550px; padding-top: 5px; border-bottom: #cecece 1px solid; background-color: #fbfbfb"><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  1: <span style="color: #0000ff">package</span> com.mervpolis.dwx.struts2spring.dao;
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  2:
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  3: <span style="color: #0000ff">import</span> java.sql.Connection;
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  4: <span style="color: #0000ff">import</span> java.sql.PreparedStatement;
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  5: <span style="color: #0000ff">import</span> java.sql.ResultSet;
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  6: <span style="color: #0000ff">import</span> java.sql.SQLException;
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  7:
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  8: <span style="color: #0000ff">import</span> javax.sql.DataSource;
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  9:
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 10: <span style="color: #0000ff">import</span> org.springframework.beans.factory.annotation.Autowired;
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 11: <span style="color: #0000ff">import</span> org.springframework.stereotype.Service;
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 12:
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 13: <span style="color: #008000">/**
</span></pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 14:  * Sama dengan
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 15:  * &lt;code&gt;&amp;lt;bean id="itemDao" class="com.mervpolis.dwx.struts2spring.dao.ItemDaoImpl"&amp;gt;&lt;/code&gt;
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 16:  *
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 17:  */
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 18: @Service
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 19: <span style="color: #0000ff">public</span> <span style="color: #0000ff">class</span> ItemDaoImpl <span style="color: #0000ff">implements</span> ItemDao {
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 20:
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 21:     <span style="color: #008000">/**
</span></pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 22:   * Nah setternya diganti dengan yang satu ini
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 23:      */
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 24:     @Autowired
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 25:     <span style="color: #0000ff">private</span> DataSource dataSource;
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 26:
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 27:     <span style="color: #0000ff">public</span> <span style="color: #0000ff">void</span> saveItem(String name, String price) {
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 28:         <span style="color: #0000ff">try</span> {
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 29:             Connection connection = dataSource.getConnection();
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 30:
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 31:             String sql = "<span style="color: #8b0000">INSERT INTO item (name, price) VALUES (?, ?)</span>";
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 32:             PreparedStatement statement = connection.prepareStatement(sql);
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 33:             statement.setString(1, name);
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 34:             statement.setString(2, price);
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 35:
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 36:             statement.executeUpdate();
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 37:         } <span style="color: #0000ff">catch</span> (SQLException e) {
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 38:             e.printStackTrace();
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 39:         }
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 40:     }
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 41:
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 42:     <span style="color: #0000ff">public</span> ResultSet getAllItems() {
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 43:         <span style="color: #0000ff">try</span> {
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 44:             Connection connection = dataSource.getConnection();
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 45:
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 46:             ResultSet resultSet = connection.prepareStatement(
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 47:                     "<span style="color: #8b0000">SELECT * FROM item</span>").executeQuery();
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 48:
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 49:             <span style="color: #0000ff">return</span> resultSet;
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 50:         } <span style="color: #0000ff">catch</span> (SQLException e) {
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 51:             e.printStackTrace();
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 52:
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 53:             <span style="color: #0000ff">return</span> <span style="color: #0000ff">null</span>;
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 54:         }
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 55:     }
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 56:
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 57: }
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 58: </pre></pre>


<p>Sudah mulai terlihat bedanya, untuk melakukan injection sudah tidak menggunakan setter lagi, tetapi dengan menggunakan @Autowired, sedangkan untuk pembuatan bean-nya digunakan @Service.
Sekarang tingga; menyuntikkan DAOnya ke controller</p>

<pre style="border-right: #cecece 1px solid; padding-right: 5px; border-top: #cecece 1px solid; padding-left: 5px; min-height: 40px; padding-bottom: 5px; overflow: auto; border-left: #cecece 1px solid; width: 550px; padding-top: 5px; border-bottom: #cecece 1px solid; background-color: #fbfbfb"><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  1: <span style="color: #0000ff">package</span> com.mervpolis.dwx.struts2spring.action;
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  2:
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  3: <span style="color: #0000ff">import</span> java.sql.Connection;
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  4: <span style="color: #0000ff">import</span> java.sql.ResultSet;
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  5: <span style="color: #0000ff">import</span> java.util.ArrayList;
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  6: <span style="color: #0000ff">import</span> java.util.HashMap;
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  7: <span style="color: #0000ff">import</span> java.util.List;
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  8: <span style="color: #0000ff">import</span> java.util.Map;
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  9:
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 10: <span style="color: #0000ff">import</span> javax.sql.DataSource;
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 11:
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 12: <span style="color: #0000ff">import</span> org.apache.struts2.convention.annotation.Action;
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 13: <span style="color: #0000ff">import</span> org.apache.struts2.convention.annotation.Result;
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 14: <span style="color: #0000ff">import</span> org.apache.struts2.convention.annotation.Results;
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 15: <span style="color: #0000ff">import</span> org.springframework.beans.factory.annotation.Autowired;
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 16:
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 17: <span style="color: #0000ff">import</span> com.mervpolis.dwx.struts2spring.dao.ItemDao;
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 18: <span style="color: #0000ff">import</span> com.mervpolis.dwx.struts2spring.datasource.DataSourceAware;
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 19: <span style="color: #0000ff">import</span> com.opensymphony.xwork2.ActionSupport;
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 20:
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 21: <span style="color: #008000">/**
</span></pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 22:  * @author Dian Aditya
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 23:  *
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 24:  */
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 25: @Results({ @Result(name = ActionSupport.SUCCESS, type = "<span style="color: #8b0000">velocity</span>", location = "<span style="color: #8b0000">/view/item/item_list.vm</span>") })
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 26: <span style="color: #0000ff">public</span> <span style="color: #0000ff">class</span> ItemController <span style="color: #0000ff">extends</span> ActionSupport {
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 27:
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 28:     <span style="color: #0000ff">private</span> List result = <span style="color: #0000ff">new</span> ArrayList();
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 29:     <span style="color: #0000ff">private</span> String id;
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 30:
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 31:     <span style="color: #008000">/**
</span></pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 32:   * Inject lagi
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 33:      */
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #ebebeb"> 34:     @Autowired
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #ebebeb"> 35:     <span style="color: #0000ff">private</span> ItemDao itemDao;
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 36:
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 37:     @Action("<span style="color: #8b0000">/item/show</span>")
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 38:     <span style="color: #0000ff">public</span> String show() <span style="color: #0000ff">throws</span> Exception {
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 39:         <span style="color: #0000ff">if</span> (itemDao == <span style="color: #0000ff">null</span>) {
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 40:             addActionError("<span style="color: #8b0000">Gagal menyuntik itemDao</span>");
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 41:         } <span style="color: #0000ff">else</span> {
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 42:             ResultSet resultSet = itemDao.getAllItems();
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 43:             <span style="color: #0000ff">while</span> (resultSet.next()) {
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 44:                 Map data = <span style="color: #0000ff">new</span> HashMap();
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 45:                 data.put("<span style="color: #8b0000">name</span>", resultSet.getString("<span style="color: #8b0000">name</span>"));
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 46:                 data.put("<span style="color: #8b0000">price</span>", resultSet.getString("<span style="color: #8b0000">price</span>"));
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 47:                 result.add(data);
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 48:             }
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 49:         }
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 50:
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 51:         <span style="color: #0000ff">return</span> SUCCESS;
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 52:     }
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 53:
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 54:     <span style="color: #0000ff">public</span> String getId() {
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 55:         <span style="color: #0000ff">return</span> id;
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 56:     }
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 57:
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 58:     <span style="color: #0000ff">public</span> <span style="color: #0000ff">void</span> setId(String id) {
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 59:         <span style="color: #0000ff">this</span>.id = id;
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 60:     }
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 61:
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 62:     <span style="color: #0000ff">public</span> List getResult() {
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 63:         <span style="color: #0000ff">return</span> result;
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 64:     }
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 65: }
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 66: </pre></pre>


<p>Dan coba dijalankan, hasilnya tidak akan jauh beda dari contoh sebelumnya.
&nbsp;
Sedikit bonus :p berikut contoh tanpa menggunakan anotasi.</p>

<pre style="border-right: #cecece 1px solid; padding-right: 5px; border-top: #cecece 1px solid; padding-left: 5px; min-height: 40px; padding-bottom: 5px; overflow: auto; border-left: #cecece 1px solid; width: 550px; padding-top: 5px; border-bottom: #cecece 1px solid; background-color: #fbfbfb"><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  1: <span style="color: #0000ff">&lt;?</span>xml version="1.0" encoding="UTF-8"<span style="color: #0000ff">?&gt;</span>
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  2: <span style="color: #0000ff">&lt;</span><span style="color: #800000">beans</span> <span style="color: #ff0000">xmlns</span>=<span style="color: #0000ff">"http://www.springframework.org/schema/beans"</span>
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  3:     <span style="color: #ff0000">xmlns</span>:<span style="color: #ff0000">xsi</span>=<span style="color: #0000ff">"http://www.w3.org/2001/XMLSchema-instance"</span> <span style="color: #ff0000">xmlns</span>:<span style="color: #ff0000">context</span>=<span style="color: #0000ff">"http://www.springframework.org/schema/context"</span>
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  4:     <span style="color: #ff0000">xmlns</span>:<span style="color: #ff0000">p</span>=<span style="color: #0000ff">"http://www.springframework.org/schema/p"</span>
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  5:     <span style="color: #ff0000">xsi</span>:<span style="color: #ff0000">schemaLocation</span>=<span style="color: #0000ff">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
</span></pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  6:      http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd"<span style="color: #0000ff">&gt;</span>
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  7:
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  8:     <span style="color: #0000ff">&lt;</span><span style="color: #800000">bean</span> <span style="color: #ff0000">id</span>=<span style="color: #0000ff">"dataSource"</span>
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  9:         <span style="color: #ff0000">class</span>=<span style="color: #0000ff">"org.springframework.jdbc.datasource.DriverManagerDataSource"</span>
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 10:         <span style="color: #ff0000">p</span>:<span style="color: #ff0000">driverClassName</span>=<span style="color: #0000ff">"com.mysql.jdbc.Driver"</span> <span style="color: #ff0000">p</span>:<span style="color: #ff0000">username</span>=<span style="color: #0000ff">"root"</span>
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 11:         <span style="color: #ff0000">p</span>:<span style="color: #ff0000">password</span>=<span style="color: #0000ff">"admin"</span> <span style="color: #ff0000">p</span>:<span style="color: #ff0000">url</span>=<span style="color: #0000ff">"jdbc:mysql://localhost:3306/test"</span> <span style="color: #0000ff">/&gt;</span>
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 12:
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 13:     <span style="color: #0000ff">&lt;</span><span style="color: #800000">bean</span> <span style="color: #ff0000">id</span>=<span style="color: #0000ff">"itemDao"</span> <span style="color: #ff0000">class</span>=<span style="color: #0000ff">"com.mervpolis.dwx.struts2spring.dao.ItemDaoImpl"</span>
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 14:         <span style="color: #ff0000">p</span>:<span style="color: #ff0000">dataSource</span>-<span style="color: #ff0000">ref</span>=<span style="color: #0000ff">"dataSource"</span> <span style="color: #0000ff">/&gt;</span>
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 15:
</pre><pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 16: <span style="color: #0000ff">&lt;/</span><span style="color: #800000">beans</span><span style="color: #0000ff">&gt;</span></pre></pre>


<p>Atau secara sederhananya mungkin juga seperti ini.
&lt;p<pre style="border-right: #cecece 1px solid; padding-right: 5px; border-top: #cecece 1px solid; padding-left: 5px; min-height: 40px; padding-bottom: 5px; overflow: auto; border-left: #cecece 1px solid; width: 550px; padding-top: 5px; border-bottom: #cecece 1px solid; background-color: #fbfbfb">
 <pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  1: <span style="color: #008000">// org.springframework.jdbc.datasource.DriverManagerDataSource</span>
</pre>
 <pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  2: DriverManagerDataSource dataSource = <span style="color: #0000ff">new</span> DriverManagerDataSource();
</pre>
 <pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  3: dataSource.setDriverClassName(&ldquo;<span style="color: #8b0000">com.mysql.jdbc.Driver</span>&rdquo;);
</pre>
 <pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  4: dataSource.setUsername(&ldquo;<span style="color: #8b0000">root</span>&rdquo;);
</pre>
 <pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  5: dataSource.setPassword(&ldquo;<span style="color: #8b0000">admin</span>&rdquo;);
</pre>
 <pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  6: dataSource.setUrl(&ldquo;<span style="color: #8b0000">jdbc:mysql://localhost:3306/test</span>&rdquo;);
</pre>
 <pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  7:
</pre>
 <pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  8: <span style="color: #008000">// javax.sql.DataSource</span>
</pre>
 <pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9">  9: DataSource source = dataSource;
</pre>
 <pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 10:
</pre>
 <pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 11: <span style="color: #008000">// com.mervpolis.dwx.struts2spring.dao.ItemDaoImpl</span>
</pre>
 <pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 12: ItemDaoImpl daoImpl = <span style="color: #0000ff">new</span> ItemDaoImpl();
</pre>
 <pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 13: daoImpl.setDataSource(source);
</pre>
 <pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 14:
</pre>
 <pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 15: <span style="color: #008000">// com.mervpolis.dwx.struts2spring.dao.ItemDao</span>
</pre>
 <pre style="font-size: 12px; margin: 0em; width: 100%; font-family: consolas,'Courier New',courier,monospace; background-color: #f9f9f9"> 16: ItemDao itemDao = daoImpl;</pre>
Cape juga ternyata, selamat menikmati hidangannya.
&lt;/p<pre></p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    
  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Dian Aditya -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a> | Themed with <a href="https://github.com/lucaslew/whitespace">Whitespace</a></span>
</p>

</footer>
  






<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=279596272235062&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
